(function(){"use strict";var __webpack_modules__={3119:function(t,e,a){var i=a(9242),s=a(3396);function n(t,e,a,i,n,o){const r=(0,s.up)("NavBar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r),(0,s.Wm)(l)],64)}const o={class:"nav-bar"},r={class:"nav-bar__container"},l={class:"nav-bar__son nav-bar__left"},h=(0,s._)("span",null,"Sakura",-1),d=[h],c={class:"nav-bar__son nav-bar__right"},p=(0,s._)("span",null,"介绍",-1),u=[p],m=(0,s._)("span",null,"文档",-1),_=[m],f=(0,s._)("span",null,"编辑",-1),g=[f],b=(0,s._)("div",{class:"nav-bar__item github-button-container right-item"},[(0,s._)("span",null,"仓库")],-1);function w(t,e,a,i,n,h){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[(0,s._)("div",l,[(0,s._)("div",{class:"nav-bar__item home-button-container",onClick:e[0]||(e[0]=(...t)=>h.toHome&&h.toHome(...t))},d)]),(0,s._)("div",c,[(0,s._)("div",{class:"nav-bar__item intr-button-container right-item",onClick:e[1]||(e[1]=(...t)=>h.toIntr&&h.toIntr(...t)),ref:"intr"},u,512),(0,s._)("div",{class:"nav-bar__item docu-button-container right-item",onClick:e[2]||(e[2]=(...t)=>h.toDocu&&h.toDocu(...t)),ref:"docu"},_,512),(0,s._)("div",{class:"nav-bar__item edit-button-container right-item",onClick:e[3]||(e[3]=(...t)=>h.toEdit&&h.toEdit(...t)),ref:"edit"},g,512),b])])])}a(560);var y=a(2483);function L(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",null,"docu")}var v={},k=a(89);const x=(0,k.Z)(v,[["render",L]]);var D=x;const E={class:"edit"},C=(0,s._)("h2",{style:{"text-align":"center"}},"在线编辑",-1),I={class:"edit__body"},O={class:"edit__input"},T=["onfocus","onblur"],S={class:"edit__shower",id:"edit-shower"};function $(t,e,a,n,o,r){const l=(0,s.up)("sr-article-container");return(0,s.wg)(),(0,s.iD)("div",E,[C,(0,s._)("div",I,[(0,s._)("div",O,[(0,s.wy)((0,s._)("textarea",{class:"edit__textarea",spellcheck:"false","onUpdate:modelValue":e[0]||(e[0]=t=>o.code=t),onfocus:r.focus,onblur:r.blur},null,8,T),[[i.nr,o.code]])]),(0,s._)("div",S,[(0,s.Wm)(l,{ref:"render",height:"100%",domId:"edit-shower"},null,512)])])])}var M={name:"edit",data(){return{textareaHasChange:!1,code:"",allowCtrlS:!0}},mounted(){window.scrollTo({top:0});let t=this;window.onbeforeunload=function(e){"/edit"===t.$route.fullPath&&""!==t.code?e.returnValue="关闭提示":window.onbeforeunload=null},document.addEventListener("keydown",this.keydown)},beforeUnmount(){document.removeEventListener("keydown",this.keydown)},beforeRouteLeave(t,e,a){if(""!==this.code){const t=window.confirm("系统可能不会保存你所做的修改");t?a():a(!1)}else a()},methods:{focus(){this.allowCtrlS=!1},blur(){this.allowCtrlS=!0},keydown(t){if(!this.allowCtrlS&&!0===t.ctrlKey&&83===t.keyCode)return t.preventDefault(),this.render(),!1},render(){this.$refs.render.setArticle(this.code),this.$refs.render.render()}}};const R=(0,k.Z)(M,[["render",$]]);var W=R,A=a(7139);const H={class:"home"},j={class:"home-container"},P=(0,s._)("h1",null,"Sakura Renderer",-1),B=(0,s._)("h2",null,"文本渲染器",-1),q=(0,s._)("p",null,"基于 Vue 3 制作的简易文本渲染器",-1),U=(0,s._)("img",{class:"home__sr-img",src:"static/img/SRMain.png",alt:"",draggable:"false"},null,-1),Z={class:"home__cards-container"};function F(t,e,a,i,n,o){const r=(0,s.up)("HomeCard");return(0,s.wg)(),(0,s.iD)("div",H,[(0,s._)("div",j,[P,B,q,U,(0,s._)("div",Z,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.homeCardList,((t,e)=>((0,s.wg)(),(0,s.j4)(r,{key:e,id:e,onClickButton:t.func},{id:(0,s.w5)((()=>[(0,s.Uk)((0,A.zw)(t.id),1)])),title:(0,s.w5)((()=>[(0,s.Uk)((0,A.zw)(t.title),1)])),text:(0,s.w5)((()=>[(0,s.Uk)((0,A.zw)(t.text),1)])),_:2},1032,["id","onClickButton"])))),128))])])])])}const z={class:"card-li"},N={class:"card"},K={class:"card__id-container"},G={class:"card__id"};function V(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("li",z,[(0,s._)("div",N,[(0,s._)("div",K,[(0,s._)("div",G,[(0,s._)("span",null,[(0,s.WI)(t.$slots,"id")])])]),(0,s._)("h3",null,[(0,s.WI)(t.$slots,"title")]),(0,s._)("p",null,[(0,s.WI)(t.$slots,"text")]),(0,s._)("div",{class:"card__bottom-button",onClick:e[0]||(e[0]=(...t)=>o.click&&o.click(...t))},[(0,s.WI)(t.$slots,"button-name",{},(()=>[(0,s.Uk)("查看详情")]))])])])}var Y={props:{id:{default:0,type:Number}},methods:{click(){this.$emit("clickButton",this.id)}}};const X=(0,k.Z)(Y,[["render",V]]);var J=X,Q={data(){return{homeCardList:[{id:"I",title:"介绍",text:"介绍这个项目的信息，包括制作目的、制作人员，渲染器的渲染流程和方法",func:this.toIntr},{id:"D",title:"文档",text:"介绍文本渲染器的结构和使用方法，帮助用户快速上手",func:this.toDocu},{id:"E",title:"编辑",text:"提供在线的文档编辑器，在线编辑，实时查看渲染结果",func:this.toEdit}]}},mounted(){window.scrollTo({top:0})},components:{HomeCard:J},methods:{toDocu(){mt.toDocu()},toEdit(){mt.toEdit()},toIntr(){mt.toIntr()}}};const tt=(0,k.Z)(Q,[["render",F]]);var et=tt;function at(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",null,"intr")}var it={};const st=(0,k.Z)(it,[["render",at]]);var nt=st;const ot=[{path:"/",name:"home",component:et},{path:"/docu",name:"docu",component:D},{path:"/edit",name:"edit",component:W},{path:"/intr",name:"intr",component:nt}],rt=(0,y.p7)({history:(0,y.PO)("/"),routes:ot});var lt=rt;function ht(t){return function(){lt.push({name:t})}}const dt=ht("home"),ct=ht("docu"),pt=ht("edit"),ut=ht("intr");var mt={toHome:dt,toDocu:ct,toEdit:pt,toIntr:ut},_t={watch:{$route(t,e){const a={"/":null,"/edit":"edit","/docu":"docu","/intr":"intr"},i=t.path.slice(0,-1===t.path.indexOf("#")?t.path.length:t.path.indexOf("#")),s=e.path.slice(0,-1===e.path.indexOf("#")?e.path.length:e.path.indexOf("#"));console.log(i),console.log(s);const n=a[i],o=a[s];"/index.html"!==i?(null!==o&&this.$refs[o].classList.remove("right-item--active"),null!==n&&this.$refs[n].classList.add("right-item--active")):mt.toHome()}},methods:{toHome(){mt.toHome()},toDocu(){mt.toDocu()},toEdit(){mt.toEdit()},toIntr(){mt.toIntr()}}};const ft=(0,k.Z)(_t,[["render",w]]);var gt=ft,bt={components:{NavBar:gt}};const wt=(0,k.Z)(bt,[["render",n]]);var yt=wt,Lt=a(65),vt=(0,Lt.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});class kt extends HTMLElement{constructor(){super()}connectedCallback(){this.style.color="red"}}var xt=kt;window.customElements.define("sr-box",xt);class Dt extends HTMLElement{constructor(){super()}connectedCallback(){this.style.color="red"}}var Et=Dt;window.customElements.define("sr-code",Et);class Ct extends HTMLElement{constructor(){super(),this.content="",this.p=document.createElement("p")}connectedCallback(){this.style.whiteSpace="pre",this.content=this.textContent,this.content.replace("\n","<br>"),this.content.replace(" ","&nbsp"),this.innerHTML=this.content}}var It=Ct;window.customElements.define("sr-poem",It);class Ot extends HTMLElement{constructor(){super(),this.arrow="↑",this.aToLink=document.createElement("a"),this.aToItem=document.createElement("a"),this.span=document.createElement("span"),this.link="",this.itemId="",this.index=0,this.aToItem.innerHTML="↑",this.aToItem.title="跳转引用内容"}connectedCallback(){this.setAttribute("id",this.getAttribute("id")),this.link=this.textContent,this.itemId=this.getAttribute("item-id"),this.index=this.getAttribute("item-index"),this.aToItem.innerHTML+="<sub>["+this.index+"]</sub>",this.aToItem.href="#"+this.itemId,this.innerHTML="",this.appendChild(this.aToItem),this.getAttribute("node-content")?(this.span.innerHTML=this.getAttribute("node-content"),this.appendChild(this.span)):(this.aToLink.textContent=this.link,this.aToLink.href=this.link,this.aToLink.rel="noreferrer noopener nofollow",this.aToLink.target="_Blank",this.appendChild(this.aToLink)),this.aToLink.classList.add("sa-ref-node--link"),this.aToItem.classList.add("sa-ref-node--arrow")}}var Tt=Ot;window.customElements.define("sr-ref-node",Tt);class St extends HTMLElement{constructor(){super(),this.arrow="↑",this.aToNode=document.createElement("a"),this.span=document.createElement("span"),this.link="",this.nodeId="",this.index=0}connectedCallback(){this.setAttribute("id",this.getAttribute("id")),this.nodeId=this.getAttribute("node-id"),this.index=this.getAttribute("item-index"),this.aToNode.innerHTML+="<sub>["+this.index+"]</sub>",this.aToNode.href="#"+this.nodeId,this.innerHTML="",this.appendChild(this.aToNode),this.aToNode.classList.add("sa-ref-node--arrow")}}var $t=St;window.customElements.define("sr-ref-item",$t);const Mt={class:"sa-article-container__slot"},Rt={class:"sa-article-container__main"},Wt={class:"sa-article-container__body"},At={class:"sa-article-container__slot"},Ht={class:"sa-article-area",id:"sr-article-area"},jt={class:"sa-article-container__slot"},Pt={key:0,class:"sa-article-container__cata",ref:"article_container_cata"},Bt={class:"sa-article-container__slot"},qt={class:"sa-cata-area"},Ut={class:"sa-article-container__slot"},Zt={class:"sa-article-container__slot"},Ft=(0,s._)("div",{style:{display:"none"},id:"sa-article-temp"},null,-1);function zt(t,e,a,i,n,o){const r=(0,s.up)("sr-catalogue"),l=(0,s.up)("sr-image-shower");return(0,s.wg)(),(0,s.iD)("div",{ref:"article_container",class:"sa-article-container sa-mathjax",style:(0,A.j5)({height:a.height?a.height:"auto"})},[(0,s._)("div",Mt,[(0,s.WI)(t.$slots,"before")]),(0,s._)("main",Rt,[(0,s._)("div",{class:(0,A.C_)({"sa-article-container__body--cata":n.hasArticleCata,"sa-article-container__body--nocata":!n.hasArticleCata}),ref:"article_container_body"},[(0,s._)("div",Wt,[(0,s._)("div",At,[(0,s.WI)(t.$slots,"before-article")]),(0,s._)("div",Ht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.componentsList,(t=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t.type),{key:t.data.option.key,data:t.data,onEventsFunction:this.eventsFunction,onShowImageShower:e[0]||(e[0]=t=>this.imageShower.show=!0)},null,40,["data","onEventsFunction"])))),128))]),(0,s._)("div",jt,[(0,s.WI)(t.$slots,"after-article")])])],2),n.hasArticleCata?((0,s.wg)(),(0,s.iD)("aside",Pt,[(0,s._)("div",Bt,[(0,s.WI)(t.$slots,"before-cata")]),(0,s._)("div",qt,[(0,s.Wm)(r,{ref:"saCata",onEventsFunction:this.eventsFunction},null,8,["onEventsFunction"]),(0,s._)("div",Ut,[(0,s.WI)(t.$slots,"after-cata")])])],512)):(0,s.kq)("",!0)]),(0,s._)("div",Zt,[(0,s.WI)(t.$slots,"after")]),n.imageShower.show?((0,s.wg)(),(0,s.j4)(l,{key:0,imgList:n.imageShower.imgList,initialIndex:n.imageShower.index,onExit:e[1]||(e[1]=t=>this.imageShower.show=!1)},null,8,["imgList","initialIndex"])):(0,s.kq)("",!0),Ft],4)}var Nt=a(4093);class Kt{constructor(t,e){this.option=t,this.content=e}replaceDoubleTilde(t){const e=t.replace(/~~([^~]+)~~/g,"<del>$1</del>");return e}analyse(){return this.content=this.replaceDoubleTilde(this.content),this.content}}var Gt=Kt;class Vt{constructor(t,e){this.option=t,this.content=e}replaceDoubleTilde(t){const e=t.replace(/\*([^*]+)\*/g,"<i>$1</i>");return e}analyse(){return this.content=this.replaceDoubleTilde(this.content),this.content}}var Yt=Vt;class Xt{constructor(t,e){this.option=t,this.content=e}replaceDoubleTilde(t){const e=t.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>");return e}analyse(){return this.content=this.replaceDoubleTilde(this.content),this.content}}var Jt=Xt;class Qt{constructor(t,e){this.option=t,this.content=e}replaceDoubleTilde(t){const e=t.replace(/~\*(.*?)\*~/g,"<strong><i>$1</i></strong>");return e}analyse(){return this.content=this.replaceDoubleTilde(this.content),this.content}}var te=Qt;class ee{constructor(t,e){this.option=t,this.content=e}replaceDoubleTilde(t){const e=t.replace(/__(.*?)__/g,"<u>$1</u>");return e}analyse(){return this.content=this.replaceDoubleTilde(this.content),this.content}}var ae=ee;class ie{constructor(t,e){this.option=t,this.content=e,this.parsers=[Gt,Jt,te,Yt,ae]}analyse(){let t=[];this.parsers.forEach((e=>{t.push(!1)}));let e=!1;while(!this.isFinish(t))if(e=!1,t.forEach(((t,a)=>{if(!t){let t=new this.parsers[a](this.option,this.content).analyse();t!==this.content&&(e=!0),this.content=t}})),!e)break;return this.content}isFinish(t){for(let e=0;e<t.length;e++)if(!t[e])return!1;return!0}}var se=ie;class ne{constructor(t,e,a){this.option=t,this.content=e,this.rendererData=a,this.strLeft="{{",this.strRight="}}",this.dataList=[]}analyse(){return Nt.Z.replaceGreed(this.strLeft,this.strRight,this.content,(t=>this.analyseTemplate(t.replace))).content}analyseTemplate(t){return this.dataListInit(t),t}dataListInit(t){let e=t;e=e.slice(2,-2),e=e.replace(/\n/g,""),this.dataList=e.split("|");for(let a=0;a<this.dataList.length;a++)this.dataList[a]=this.dataList[a].trim()}}var oe=ne;class re extends oe{constructor(t,e,a){super(t,e,a),this.name=["quote","引用"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="——";const i=(t,i)=>{switch(t){case"content":case"内容":return e=i,!0;case"from":case"来源":return a+=i,!0}return!1};this.dataList.forEach(((t,s)=>{const n=t.split("=")[0],o=t.indexOf("="),r=t.slice(o+1,t.length);switch(s){case 1:if(i(n,r))break;e=t;break;case 2:if(i(n,r))break;a+=t}}));let s=document.createElement("table"),n=document.createElement("tbody"),o=document.createElement("tr"),r=document.createElement("tr"),l=document.createElement("td"),h=document.createElement("td"),d=document.createElement("td"),c=document.createElement("td"),p=document.createElement("cite");s.classList.add("class","sa-quote-table"),l.classList.add("class","sa-quote-table__td-symbol"),h.classList.add("class","sa-quote-table__td-symbol"),d.classList.add("class","sa-quote-table__td-text"),c.classList.add("class","sa-quote-table__td-from"),c.setAttribute("colspan","3"),d.innerHTML=e,p.innerHTML=a,l.innerHTML="“",h.innerHTML="”",l.style.verticalAlign="top",h.style.verticalAlign="bottom";let u={};return o.appendChild(l),o.appendChild(d),o.appendChild(h),n.appendChild(o),c.appendChild(p),r.appendChild(c),n.appendChild(r),s.appendChild(n),u=s,u.outerHTML}}var le=re;class he extends oe{constructor(t,e,a){super(t,e,a),this.name=["ref","参考"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="",i="";const s=(t,s)=>{switch(t){case"content":case"内容":e=s;break;case"href":case"地址":a=s;break;case"refText":case"参考内容":i=s;break}};this.dataList.forEach(((t,n)=>{let o=t.split("=")[0],r=t.split("=")[t.split("=").length-1];switch(n){case 1:o===r?a=r:s(o,r);break;case 2:o===r?i=r:s(o,r);break;case 3:o===r?e=r:s(o,r);break}}));let n=(++this.rendererData.ref.amount).toString(),o="sr-ref-item-"+n,r="sr-ref-node-"+n,l="<sr-ref-item node-id="+r+" id ="+o+" item-index="+n+" item-content"+e+" ></sr-ref-item>",h="<sr-ref-node item-id="+o+" id ="+r+" item-index="+n+" node-content="+i+">"+a+"</sr-ref-node>";return this.rendererData.ref.refList.push(h),l}}var de=he;class ce extends oe{constructor(t,e,a){super(t,e,a),this.name=["del","删除线"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="#303133",i="1";const s=(t,s)=>{switch(t){case"content":case"内容":e=s;break;case"color":case"颜色":a=s;break;case"size":case"粗细":i=s;break}};this.dataList.forEach(((t,n)=>{const o=t.split("=")[0],r=t.indexOf("="),l=t.slice(r+1,t.length);switch(n){case 1:if(s(o,l))break;e=t;break;case 2:if(s(o,l))break;a=t;break;case 3:if(s(o,l))break;i=t;break}}));let n="<del style='text-decoration: line-through "+i+"px "+a+";'>"+e+"</del>";return n}}var pe=ce;class ue extends oe{constructor(t,e,a){super(t,e,a),this.name=["und","下划线"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="#303133",i="1";const s=(t,s)=>{switch(t){case"content":case"内容":e=s;break;case"color":case"颜色":a=s;break;case"size":case"粗细":i=s;break}};this.dataList.forEach(((t,n)=>{const o=t.split("=")[0],r=t.indexOf("="),l=t.slice(r+1,t.length);switch(n){case 1:if(s(o,l))break;e=t;break;case 2:if(s(o,l))break;a=t;break;case 3:if(s(o,l))break;i=t;break}}));let n="<p style='border-bottom: solid "+i+"px "+a+";width: fit-content;'>"+e+"</p>";return n}}var me=ue;class _e extends oe{constructor(t,e,a){super(t,e,a),this.name=["heimu","hide","黑幕"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="";const i=(t,i)=>{switch(t){case"content":case"内容":e=i;break;case"title":case"注释":a=i;break}};this.dataList.forEach(((t,s)=>{const n=t.split("=")[0],o=t.indexOf("="),r=t.slice(o+1,t.length);switch(s){case 1:if(i(n,r))break;e=t;break;case 2:if(i(n,r))break;a=t;break}}));let s="<span title='"+a+"' class='sa-sr-hide-item'>"+e+"</span>";return s}}var fe=_e;class ge extends oe{constructor(t,e,a){super(t,e,a),this.name=["blur","模糊"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="",i="2";const s=(t,s)=>{switch(t){case"content":case"内容":e=s;break;case"title":case"注释":a=s;break;case"size":case"范围":i=s;break}};this.dataList.forEach(((t,n)=>{const o=t.split("=")[0],r=t.indexOf("="),l=t.slice(r+1,t.length);switch(n){case 1:if(s(o,l))break;e=t;break;case 2:if(s(o,l))break;a=t;break;case 3:if(s(o,l))break;i=t;break}}));let n="<span title='"+a+"' class='sa-sr-blur-item' style='filter: blur("+i+"px);'>"+e+"</span>";return n}}var be=ge;class we extends oe{constructor(t,e,a){super(t,e,a),this.name=["文本","text"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="";const i=(t,i)=>{switch(t){case"content":case"内容":a=i;break;case"color":case"颜色":e+=`color: ${i};`;break;case"size":case"大小":e+=`font-size: ${i}px;`;break;case"height":case"行高":e+=`line-height: ${i}px;`;break;case"weight":case"粗细":e+=`font-weight: ${i};`;break;case"bgcolor":case"背景色":e+=`background-color: ${i};`;break;case"italic":case"斜体":"true"!==i&&"false"!==i||(e+=`font-style: ${"true"===i?"italic":"normal"};`);break;case"font":case"字体":e+=`font-family: ${i};`;break}};this.dataList.forEach(((t,e)=>{const s=t.split("=")[0],n=t.indexOf("="),o=t.slice(n+1,t.length);switch(e){case 1:if(i(s,o))break;a=t;break;default:if(i(s,o))break;a=t;break}}));let s=`<span style="${e}">${a}</span>`;return s}}var ye=we;class Le extends oe{constructor(t,e,a){super(t,e,a),this.name=["bold","加粗"]}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyseTemplate(t){if(this.dataListInit(t),!this.judge())return t;let e="",a="#303133",i="1";const s=(t,s)=>{switch(t){case"content":case"内容":e=s;break;case"color":case"颜色":a=s;break;case"size":case"粗细":i=s;break}};this.dataList.forEach(((t,n)=>{const o=t.split("=")[0],r=t.indexOf("="),l=t.slice(r+1,t.length);switch(n){case 1:if(s(o,l))break;e=t;break;case 2:if(s(o,l))break;a=t;break;case 3:if(s(o,l))break;i=t;break}}));let n="<p style='font-weight: bold; font-size: "+i+"px; color: "+a+";'>"+e+"</p>";return n}}var ve=Le;class ke{constructor(t,e,a){this.option=t,this.content=e,this.rendererData=a,this.parsers=[le,de,pe,ve,me,fe,be,ye]}analyse(){let t=[];this.parsers.forEach((e=>{t.push(!1)}));let e=0,a=!1;while(!this.isFinish(t)&&e<1e5)if(e++,a=!1,t.forEach(((t,e)=>{if(!t){let t=new this.parsers[e](this.option,this.content,this.rendererData).analyse();t!==this.content&&(a=!0),this.content=t}})),!a)break;return this.content}isFinish(t){for(let e=0;e<t.length;e++)if(!t[e])return!1;return!0}}var xe=ke;class De{constructor(t,e){this.option=t,this.content=e,this.parsers=[]}analyse(){let t=[];this.parsers.forEach((e=>{t.push(!1)}));while(!this.isFinish(t))t.forEach(((e,a)=>{if(!e){let e=new this.parsers[a](this.option,this.content).analyse();e===this.content&&(t[a]=!0),this.content=e}}));return this.content}isFinish(t){for(let e=0;e<t.length;e++)if(!t[e])return!1;return!0}}var Ee=De;class Ce{constructor(t){this.article=t,this.splitStr="\n-\n",this.option="",this.body="",this.componentsList=[],this.ignore=["sr-ignore","sr-i","ignore"],this.ignoreReplaceList=[],this.code=["sr-code","sr-c","code"],this.codeReplaceList=[],this.poem=["sr-poem","sr-p","poem"],this.poemReplaceList=[]}decode(){let t=this.article.split(this.splitStr);if(t.length>2){this.option=t[0],this.body=t[1];for(let e=2;e<t.length;e++)this.body+=this.splitStr+t[e]}else t.length<2?this.body=t[0]:(this.option=t[0],this.body=t[1]);this.body=this.body.trim();let e=this.body;this.ignore.forEach((t=>{e=Nt.Z.replaceNonGreed("<"+t+">","</"+t+">",e,(t=>this.ignoreReplace(t)),!0).content})),this.code.forEach((t=>{let a=Nt.Z.replaceNonGreed("<"+t+">","</"+t+">",e,(t=>this.codeReplace(t))).content;while(a!==e)e=a,a=Nt.Z.replaceNonGreed("<"+t+">","</"+t+">",e,(t=>this.codeReplace(t))).content})),this.poem.forEach((t=>{let a=Nt.Z.replaceNonGreed("<"+t+">","</"+t+">",e,(t=>this.poemReplace(t))).content;while(a!==e)e=a,a=Nt.Z.replaceNonGreed("<"+t+">","</"+t+">",e,(t=>this.poemReplace(t))).content}));let a=!1,i=-1,s=-1;for(let n=0;n<e.length;n++){if("{"===e[n]&&n<e.length-1&&"|"===e[n+1]&&!a){a=!0;let t=e.slice(s+1,n).trim();t=t.split("\n\n"),t.forEach((t=>{let e=t.trim();""!==e&&this.componentsList.push(e)})),i=n}if("}"===e[n]&&n>0&&"|"===e[n-1]&&a&&(a=!1,-1!==i&&this.componentsList.push(e.slice(i,n+1)),s=n),n===e.length-1){let t=e.slice(-1===s?0:s+1,n+1).trim();t=t.split("\n\n"),t.forEach((t=>{let e=t.trim();""!==e&&this.componentsList.push(e)}))}}return{option:this.option,body:this.body,componentsList:this.componentsList,ignoreReplaceList:this.ignoreReplaceList,codeReplaceList:this.codeReplaceList,poemReplaceList:this.poemReplaceList}}replace(t,e){let a=(new Date).getTime().toString(),i=a+e+Math.floor(1e6*Math.random()).toString(),s=0;while(-1!==t.content.indexOf(i)&&s++<100)i+=e+Math.floor(1e6*Math.random()).toString();return i}ignoreReplace(t){let e=t.replace;e=e.slice(t.stringBegin.length,-t.stringEnd.length);let a=this.replace(t,"ignore");return this.ignoreReplaceList.push({key:a,value:e}),a}codeReplace(t){let e=t.replace;e=e.slice(t.stringBegin.length,-t.stringEnd.length);let a=this.replace(t,"code");return this.ignoreReplaceList.push({key:a,value:e}),a}poemReplace(t){let e=t.replace;e=e.slice(t.stringBegin.length,-t.stringEnd.length),e=new se(this.option,e,this.rendererData).analyse(),e=new xe(this.option,e,this.rendererData).analyse(),e=new Ee(this.option,e,this.rendererData).analyse();let a=this.replace(t,"poem");return this.poemReplaceList.push({key:a,value:"<pre>"+e+"</pre>"}),a}}var Ie=Ce,Oe=a(3669),Te=a(126);class Se extends Te.Z{constructor(t,e,a){super(t,e,a),this.default=!1,this.name=["para","段落"],this.template={type:"sr-paragraph",data:{content:"",option:{lineHeight:"DEFAULT",type:"default",bc:"DEFAULT",bgc:"DEFAULT",border:"-",title:"DEFAULT",model:!0}}}}judge(){return-1!==this.name.indexOf(this.dataList[0])?(this.default=!0,!0):"="!==this.component[0]&&"{"!==this.component[0]&&"|"!==this.component[1]&&(this.template.model=!1,!0)}analyse(){this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let t=[];if(!1===this.template.model)return this.template.data.content=this.component,this.template.data.content=this.replacePoem(this.template.data.content),this.template.data.content=this.TDecode(this.template.data.content),this.template.data.content=this.MDecode(this.template.data.content),this.template.data.content=this.GDecode(this.template.data.content),this.template.data.content=this.replaceCode(this.template.data.content),this.template.data.content=this.replaceIgnore(this.template.data.content),{type:"success",msg:"",content:this.template};let e=this.dataList.indexOf("-");if(-1===e)return{type:"error",msg:"para格式错误",content:this.content};for(let a=0;a<e;a++)t.push(this.dataList[a]);for(let a=e+1;a<this.dataList.length;a++)this.template.data.content+=this.dataList[a]+"<br>";return 0!==t.length&&t.forEach((t=>{let e=t.split("=")[0],a=t.split("=")[t.split("=").length-1];switch(e){case"BC":case"borderColor":this.template.data.option.bc=a;break;case"BGC":case"backgroundColor":this.template.data.option.bgc=a;break;case"border":this.template.data.option.border=a;break;case"success":case"s":this.template.data.option.type="success",this.template.data.option.title=this.template.data.option.type.toUpperCase();break;case"warning":case"w":this.template.data.option.type="warning",this.template.data.option.title=this.template.data.option.type.toUpperCase();break;case"tip":case"t":this.template.data.option.type="tip",this.template.data.option.title=this.template.data.option.type.toUpperCase();break;case"info":case"i":this.template.data.option.type="info",this.template.data.option.title=this.template.data.option.type.toUpperCase();break;case"type":-1!==["default","success","warning","tip","info"].indexOf(a.toLowerCase())?(this.template.data.option.type=a,this.template.data.option.title=this.template.data.option.type.toUpperCase()):e===a&&(this.template.data.option.type="default");break;case"LH":case"lineHeight":this.template.data.option.lineHeight=a;break;case"title":"default"!==this.template.data.option.type?this.template.data.option.title=a:this.template.data.option.title=this.template.data.option.type.toUpperCase();break;default:break}})),this.template.data.content=this.GDecode(this.template.data.content),this.template.data.content=this.replaceCode(this.template.data.content),this.template.data.content=this.replaceIgnore(this.template.data.content),{type:"success",msg:"",content:this.template}}}var $e=Se,Me=a(1399);class Re extends Me.Z{constructor(t,e){super(t,e),this.name=["albumIS","相册图片展示框"],this.template={type:"sr-album-is",data:{name:"相册",imgList:[],option:{index:0}}}}extractWidthAndHeight(t){const e=/^(\d+)x(\d+)px$/,a=t.match(e);if(a&&3===a.length){const t=parseFloat(a[1]),e=parseFloat(a[2]);this.template.data.option.imgWidth=t.toString()+"px",this.template.data.option.imgHeight="x"+e+"px"}}judge(){return-1!==this.name.indexOf(this.dataList[0])&&(this.default=!0,!0)}analyse(){this.getImgListData(),this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let t=[],e=this.dataList.indexOf("-");if(-1===e)return{type:"error",msg:"AlbumISParser格式错误",content:this.content};for(let a=1;a<e;a++)t.push(this.dataList[a]);return this.template.data.imgList=this.imageListData,0!==t.length&&t.forEach((t=>{let e=t.trim(),a=e.split("=")[0].trim(),i=e.split("=")[e.split("=").length-1].trim();switch(a){case"name":this.template.data.name=i;break;case"index":Number.isInteger(Number(i))&&(this.template.data.option.index=parseInt(i));break;default:break}})),{type:"success",msg:"",content:this.template}}}var We=Re;class Ae extends Me.Z{constructor(t,e){super(t,e),this.default=!1,this.name=["allIS","图片展示框"],this.componentBaseOption={float:"center",height:"auto",width:"auto",imgWidth:"auto",imgHeight:"auto"},this.template={type:"sr-all-is",data:{imgList:[],option:{column:1,row:1,rs:!1,cs:!1,space:"10px",direction:"auto"}}}}judge(){return-1!==this.name.indexOf(this.dataList[0])&&(this.default=!0,!0)}analyse(){this.getImgListData(),this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let t=[],e=this.dataList.indexOf("-");if(-1===e)return{type:"error",msg:"allIS格式错误",content:this.content};for(let i=0;i<e;i++)t.push(this.dataList[i]);let a=this.dataList.slice(e+1);return 0!==t.length&&t.forEach((t=>{if(-1===t.indexOf("=")){if("none"!==t&&"left"!==t&&"right"!==t&&"center"!==t)return{type:"error",msg:"allIS格式错误",content:this.content};this.template.data.option.align=t}let e=t.split("=")[0],i=t.split("=")[t.split("=").length-1];switch(e){case"column":this.template.data.option.column=parseInt(i),this.template.data.option.row=Math.ceil(a.length/this.template.data.option.column);break;case"row":this.template.data.option.row=parseInt(i),this.template.data.option.column=Math.ceil(a.length/this.template.data.option.row);break;case"direction":this.template.data.option.direction=i;break;case"space":this.template.data.option.space=i;break;case"RS":this.template.data.option.rs=i.replace(/\+/g," ");break;case"CS":this.template.data.option.cs=i.replace(/\+/g," ");break;default:break}})),this.template.data.imgList=this.imageListData,{type:"success",msg:"",content:this.template}}}var He=Ae;class je extends Me.Z{constructor(t,e){super(t,e),this.name=["carouselIS","走马灯图片展示框"],this.template={type:"sr-carousel-is",data:{imgList:[],option:{interval:!1,loop:!0,intervaltime:2e3}}}}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyse(){this.analyseImageShowerOption(),this.getImgListData(),this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let t=[],e=this.dataList.indexOf("-");if(-1===e)return{type:"error",msg:"carouselIS格式错误",content:this.content};for(let a=0;a<e;a++)t.push(this.dataList[a]);return this.template.data.imgList=this.imageListData,0!==t.length&&t.forEach((t=>{if(-1===t.indexOf("="))if("loop"===t)this.template.data.option.cycle=!0;else{if("interval"!==t&&"i"!==t)return{type:"error",msg:"carouselIS格式错误",content:this.content};this.template.data.option.interval=!0}else{let e=t.split("=")[0],a=t.split("=")[t.split("=").length-1];switch(e){case"interval":case"i":"false"===a?this.template.data.option.interval=!1:(this.template.data.option.interval=!0,this.template.data.option.intervaltime=a);break;case"loop":"true"===a?this.template.data.option.loop=!0:"false"===a&&(this.template.data.option.loop=!1);break;default:break}}})),{type:"success",msg:"",content:this.template}}}var Pe=je,Be=a(7941),qe=a(2971);class Ue extends Te.Z{constructor(t,e){super(t,e),this.name=["clear"],this.template={type:"sr-clear",data:{clear:"none"}}}judge(){return-1!==this.name.indexOf(this.dataList[0])&&(this.default=!0,!0)}analyse(){return this.dataList.forEach((t=>{let e=t.split("=")[0],a=t.split("=")[t.split("=").length-1];switch(e){case"left":e===a&&(this.template.data.clear=e);break;case"right":e===a&&(this.template.data.clear=e);break;case"both":e===a&&(this.template.data.clear=e);break;case"none":e===a&&(this.template.data.clear=e);break}})),{type:"success",msg:"",content:this.template}}}var Ze=Ue;class Fe{constructor(t,e){this.option=t,this.templateList=e}analyse(){let t=e(this.templateList);function e(t){let e=[],i=[];for(let s=0,n=t.length;s<n;s++){let n=t[s];if("sr-title"!==n.type)continue;let o=a(n.data.type);if(-1===o)continue;let r={title:n.data.content,id:n.data.option.id,children:[]};while(i.length>=o)i.pop();0===i.length?e.push(r):i[i.length-1].children.push(r),i.push(r)}return e}function a(t){switch(t){case"h1":return 1;case"h2":return 2;case"h3":return 3;case"h4":return 4;case"h5":return 5;case"h6":return 6;default:return-1}}return t}}var ze=Fe;class Ne{constructor(t,e,a=[],i){this.option=t,this.body=e,this.componentsList=a,this.ignoreReplaceList=i.ignoreReplaceList?i.ignoreReplaceList:[],this.codeReplaceList=i.codeReplaceList?i.codeReplaceList:[],this.poemReplaceList=i.poemReplaceList?i.poemReplaceList:[],this.parsers=[Oe.Z,$e,We,He,Pe,Be.Z,qe.Z,Ze],this.rendererData={ref:{amount:0,refList:[]},title:{idMap:new Map}}}decode(){return this.componentsList=this.listDecode(),this.componentsList}TDecode(t){const e=this;return t=new xe(e.option,t,e.rendererData).analyse(),t}MDecode(t){const e=this;return t=new Ee(e.option,t,e.rendererData).analyse(),t}GDecode(t){const e=this;return t=new se(e.option,t,e.rendererData).analyse(),t}listDecode(){const t=this.componentsList,e=[];for(let s=0;s<t.length;s++)for(let a=0;a<this.parsers.length;a++){const i=new this.parsers[a](t[s],this.option,{TDecode:this.TDecode,MDecode:this.MDecode,GDecode:this.GDecode,ignoreReplaceList:this.ignoreReplaceList,codeReplaceList:this.codeReplaceList,poemReplaceList:this.poemReplaceList,rendererData:this.rendererData});if(!i.judge())continue;i.analyseBaseOption();const n=i.analyse();"success"===n.type&&e.push(n.content)}const a=this.refListData();if(a.length>0){const t=new Oe.Z("",{}).analysePro("注释","h1",{}),i=new Be.Z("",{}).analysePro(a,{});e.push(t.content),e.push(i.content)}this.checkTitle(e);const i=new ze(this.option,e).analyse();return{templateList:e,cataMenu:i}}refListData(){const t=[],e=this.rendererData.ref.refList;return e.forEach((e=>{const a={children:[],level:1,order_judge:!0,text:e};t.push(a)})),t}checkTitle(t){let e=!1;if(t.forEach((t=>{"sr-title"===t.type&&(e=!0)})),!e){const e=new Oe.Z("",{},{TDecode:this.TDecode,MDecode:this.MDecode,GDecode:this.GDecode,ignoreReplaceList:this.ignoreReplaceList,codeReplaceList:this.codeReplaceList,poemReplaceList:this.poemReplaceList,rendererData:this.rendererData}).analysePro("默认标题","h1",{});t.unshift(e.content)}}}var Ke=Ne;class Ge{constructor(t=null,e=!1,a=!1){this.renderElement=t,this.edit=e,this.isVue=a,this.articleGroup=[],this.articleGroupIndex=0,this.article="",this.optionFromSet=null,this.articleData={body:"",option:"",componentsList:[],optionData:{}},this.body="",this.option=""}setArticle(t){return"string"===typeof t&&(this.article=t,this.edit,!0)}setOption(t){return"object"===typeof t&&(this.optionFromSet=t,!0)}setArticleGroup(t,e=0){return!("object"!==typeof t||e<0)&&(this.articleGroup=t,this.articleGroupIndex=e>=t.length?t.length:e,!0)}async render(){if(this.articleGroup.length>0&&(this.article=this.articleGroup[this.articleGroupIndex]),""===this.article)return!1;let t=this.article;t=t.trim();let e=new Ie(t),a=e.decode();this.articleData.option=a.option,this.articleData.body=a.body;let i={},s=new Ke(i,this.articleData.body,e.componentsList,{ignoreReplaceList:e.ignoreReplaceList,codeReplaceList:e.codeReplaceList,poemReplaceList:e.poemReplaceList}),n=s.decode();return n}}var Ve=Ge,Ye={name:"sr-article-container",props:{height:{type:String,default:"auto"},domId:{type:String,default:""}},data(){return{sakuraRenderer:null,hasArticleCata:!0,componentsList:[],imageShower:{show:!1,imgList:[],index:0},scrollDomData:null,scrollDomEvent:null,scrollData:{nowShowTitleId:"",targetShowTitleId:"",hasWheel:!1,hasClickLink:!1},hasWheelTimer:null}},mounted(){this.$refs.article_container.style.height=this.height,this.sakuraRenderer=new Ve;let t=document.documentElement,e=window;""!==this.domId&&(t=document.getElementById(this.domId),e=document.getElementById(this.domId)),t.style.scrollBehavior="smooth",e.addEventListener("scroll",this.pageScroll),e.addEventListener("wheel",this.onWheel),this.scrollDomData=t,this.scrollDomEvent=e},beforeUnmount(){this.scrollDomEvent.removeEventListener("scroll",this.pageScroll),this.scrollDomEvent.removeEventListener("wheel",this.onWheel)},methods:{setArticle(t){return this.sakuraRenderer.setArticle(t)},setOption(t){return this.sakuraRenderer.setOption(t)},async render(){let t=await this.sakuraRenderer.render();return this.componentsList=[],this.componentsList=t.templateList,this.$refs.saCata.render(t.cataMenu),!0},pageScroll(t){const e=t=>{let e=t.offsetTop,a=t.offsetParent;while(a!==this.scrollDomData&&a)e+=a.offsetTop,a=a.offsetParent;return e};let a=this.scrollDomData.scrollTop,i=[];for(let s=0;s<this.componentsList.length;s++){let t=this.componentsList[s];"sr-title"===t.type&&i.push(t)}for(let s=0;s<i.length;s++){let t=i[s];if("sr-title"===t.type){let n=e(document.getElementById("sr-title-"+t.data.option.id));if(n<a+10&&(s<i.length-1&&e(document.getElementById("sr-title-"+i[s+1].data.option.id))>a||s===i.length-1)&&this.scrollData.hasWheel){this.scrollData.nowShowTitleId!==i[s].data.option.id&&(this.scrollData.nowShowTitleId=i[s].data.option.id,this.$refs.saCata.clickLink({id:this.scrollData.nowShowTitleId}));break}}}},onWheel(){this.scrollData.hasWheel=!0,this.scrollData.hasClickLink=!1},eventsFunction(t,e,a){let i={title:{clickLink:t=>{this.clickLink(t)}}};i[t][e](a)},clickLink(t){this.scrollData.targetShowTitleId=t.id,this.scrollData.hasWheel=!1,this.scrollData.hasClickLink=!0,this.$refs.saCata.clickLink(t)}}};const Xe=(0,k.Z)(Ye,[["render",zt]]);var Je=Xe;Je.install=function(t){t.component(Je.name,Je)};var Qe=Je;const ta={key:0,class:"sa-pre-para"},ea={ref:"srParaType",class:"sa-para sa-para--border"},aa=["innerHTML"],ia=["innerHTML"],sa=["innerHTML"];function na(t,e,a,i,n,o){return"default"!==this.data.option.type?((0,s.wg)(),(0,s.iD)("div",ta,[(0,s._)("div",ea,[(0,s._)("p",{class:"custom-block-title",innerHTML:a.data.option.title,style:(0,A.j5)(n.styleStr)},null,12,aa),(0,s._)("p",{ref:"srPara",innerHTML:a.data.content,style:(0,A.j5)(n.styleStr)},null,12,ia)],512)])):((0,s.wg)(),(0,s.iD)("p",{key:1,ref:"srPara",innerHTML:a.data.content,class:"sa-para",style:(0,A.j5)(n.styleStr)},null,12,sa))}var oa={name:"sr-paragraph",props:{data:{type:Object,default:null}},data(){return{hasLink:!1,styleStr:""}},mounted(){"bottom"===this.data.option.border?this.$refs.srPara.classList.add("sa-para--border-bottom"):"none"===this.data.option.border||this.$refs.srPara.classList.add("sa-para--border-left"),"warning"===this.data.option.type?this.$refs.srParaType.classList.add("sa-para--border-warning"):"success"===this.data.option.type?this.$refs.srParaType.classList.add("sa-para--border-success"):"tip"===this.data.option.type?this.$refs.srParaType.classList.add("sa-para--border-tip"):"info"===this.data.option.type&&this.$refs.srParaType.classList.add("sa-para--border-info"),this.$refs.srPara.style=`border-color: ${this.data.option.bc}; line-height: ${this.data.option.lineHeight}; border: ${this.data.border}; background-color:${this.data.option.bgc}`,this.data.option.classList.forEach((t=>{this.$refs.srPara.classList.add(t)})),this.data.option.styleList.forEach((t=>{this.styleStr+=t+";"}))},methods:{}};const ra=(0,k.Z)(oa,[["render",na]]);var la=ra;la.install=function(t){t.component(la.name,la)};var ha=la;const da=["id","data-title","innerHTML"],ca=["href"];function pa(t,e,a,i,n,o){return(0,s.wg)(),(0,s.j4)((0,s.LL)(a.data.type),{"data-title":a.data.content,ref:"srTitle",style:(0,A.j5)(n.styleStr),class:"sa-title",id:"sr-title-"+a.data.option.id},{default:(0,s.w5)((()=>[(0,s._)("span",{style:{display:"inline-block"},id:a.data.option.id,ref:"srTitle_span","data-title":a.data.content,innerHTML:a.data.content},null,8,da),n.hasLink?((0,s.wg)(),(0,s.iD)("a",{key:0,class:"sa-title__a",href:"#"+a.data.option.id,"aria-hidden":"true",onClick:e[0]||(e[0]=(...t)=>this.clickTitleLink&&this.clickTitleLink(...t))},"#",8,ca)):(0,s.kq)("",!0)])),_:1},8,["data-title","style","id"])}var ua={name:"sr-title",props:{data:{type:Object,default:null}},data(){return{hasLink:!1,styleStr:""}},mounted(){this.$refs.srTitle.style.clear=this.data.option.clear,"center"===this.data.option.textAlign||"c"===this.data.option.textAlign?this.$refs.srTitle.classList.add("sa-title--center"):this.$refs.srTitle.classList.add("sa-title--left"),"bottom"===this.data.option.borderPosition||"b"===this.data.option.borderPosition?this.$refs.srTitle.classList.add("sa-title--border-bottom"):"none"===this.data.option.borderPosition||"n"===this.data.option.borderPosition||this.$refs.srTitle.classList.add("sa-title--border-left"),!this.data.option.hoverAnimation||"bottom"!==this.data.option.borderPosition&&"b"!==this.data.option.borderPosition?!this.data.option.hoverAnimation||"left"!==this.data.option.borderPosition&&"l"!==this.data.option.borderPosition||this.$refs.srTitle.classList.add("sa-title--border-left--ani"):this.$refs.srTitle.classList.add("sa-title--border-bottom--ani"),this.hasLink=!0===this.data.option.hasLink,this.data.option.classList.forEach((t=>{this.$refs.srTitle.classList.add(t)})),this.data.option.styleList.forEach((t=>{this.styleStr+=t+";"}))},methods:{clickTitleLink(){let t={id:this.data.option.id};this.$emit("eventsFunction","title","clickLink",t)}}};const ma=(0,k.Z)(ua,[["render",pa]]);var _a=ma;_a.install=function(t){t.component(_a.name,_a)};var fa=_a;const ga={ref:"sr_table_body"},ba=["innerHTML"],wa={key:1,style:{"text-align":"center"}};function ya(t,e,a,n,o,r){const l=(0,s.up)("sr-scrollbar");return(0,s.wg)(),(0,s.iD)("div",{ref:"sr_table_container",class:"sa-table-container",style:(0,A.j5)(o.styleStr)},[o.showButton?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"sa-table-buton",ref:"sr_table_button",onClick:e[0]||(e[0]=(...t)=>r.clickButton&&r.clickButton(...t))},(0,A.zw)(o.buttonName)+(0,A.zw)(o.tableName),513)):(0,s.kq)("",!0),(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",ga,[(0,s._)("table",{ref:"sr_table",innerHTML:o.tableBody,class:"sa-table",border:"0",cellpadding:"0",cellspacing:"0"},null,8,ba)],512),[[i.F8,o.showTable]])])),_:1}),!o.showButton||o.showButton&&o.showTable?((0,s.wg)(),(0,s.iD)("div",wa,(0,A.zw)(o.tableName),1)):(0,s.kq)("",!0)],4)}var La={name:"sr-table",props:{data:{type:Object,default:null}},data(){return{showTable:!1,showName:!1,showButton:!0,buttonName:"展开",tableName:"",tableBody:"",styleStr:"",tableClassDict:{tableContainer:{float:{center:"sa-center",left:"sa-float--left",right:"sa-float--right",none:"sa-table--block"},display:{table:"sa-table-container--inline-block"}},table:{border:{border:"sa-table--border",bottom:"sa-no-style",none:"sa-no-style"}},thead:{default:"sa-table__thead"},tbody:{default:"sa-table__tbody"},tr:{default:"sa-table__tr",hover:{row:"sa-table__tr--hover",node:"sa-no-style",none:"sa-no-style"}},td:{default:"sa-table__td",title:"sa-table__td--title",hasCR:"sa-table__td--cr",hover:{node:"sa-table__td--hover-node"},noWH:"sa-table__td--no-wh",hasWH:"sa-table__td--has-wh",border:{border:"sa-table__td--border",bottom:"sa-table__td--border-bottom",none:"sa-no-style",anytime:"sa-table__td--border-anytime"}}}}},mounted(){this.data.option.fold||(this.showTable=!0,this.showButton=!1),this.render()},methods:{render(){const t=this.$refs.sr_table_container;t.style.clear=this.data.option.clear;const e=this.$refs.sr_table_body;"center"===this.data.option.float?e.classList.add(this.tableClassDict.tableContainer.float[this.data.option.float]):(t.classList.add(this.tableClassDict.tableContainer.display.table),t.classList.add(this.tableClassDict.tableContainer.float[this.data.option.float]));const a=this.$refs.sr_table;a.classList.add(this.tableClassDict.table.border[this.data.option.border]),e.style.width=this.data.option.width,a.style.width=this.data.option.width,e.style.maxWidth=this.data.option.maxWidth,e.style.minWidth=this.data.option.minWidth,e.style.height=this.data.option.height,a.style.height=this.data.option.height,e.style.maxHeight=this.data.option.maxHeight,e.style.minHeight=this.data.option.minHeight;const i=document.createElement("thead"),s=document.createElement("tbody");i.classList.add(this.tableClassDict.thead.default),s.classList.add(this.tableClassDict.tbody.default);let n=!1;this.data.tableData.forEach(((t,e)=>{const a=document.createElement("tr");a.classList.add(this.tableClassDict.tr.default),a.classList.add(this.tableClassDict.tr.hover[this.data.option.hover]);let o=t.rowData;o.forEach((t=>{const e=document.createElement("td");e.classList.add(this.tableClassDict.td.default),e.classList.add(this.tableClassDict.td.border[this.data.option.border]),e.setAttribute("colSpan",t.c),e.setAttribute("rowSpan",t.r),1===t.c&&1===t.r||"border"!==this.data.option.border||e.classList.add(this.tableClassDict.td.border.anytime),"auto"===this.data.option.node.width&&"auto"===this.data.option.node.height?e.classList.add(this.tableClassDict.td.noWH):(e.classList.add(this.tableClassDict.td.hasWH),e.style.minWidth=this.data.option.node.width,e.style.minHeight=this.data.option.node.height),e.style.width=this.data.option.node.width,e.style.height=this.data.option.node.height,t.display||(e.style.display="none"),e.innerHTML=t.content,t.hasCR&&"row"===this.data.option.hover&&1!==t.r?e.classList.add(this.tableClassDict.td.hasCR):"node"===this.data.option.hover&&e.classList.add(this.tableClassDict.td.hover.node),t.t&&e.classList.add(this.tableClassDict.td.title),a.appendChild(e)})),t.thead&&0===e?(n=!0,i.appendChild(a)):s.appendChild(a)})),n&&this.$refs.sr_table.appendChild(i),a.appendChild(s),this.tableName=this.data.option.name,this.data.option.classList.forEach((t=>{console.log(t),this.$refs.sr_table_container.classList.add(t)})),this.data.option.styleList.forEach((t=>{this.styleStr+=t+";"}))},clickButton(){this.showTable=!this.showTable,this.buttonName="折叠"===this.buttonName?"展开":"折叠"}}};const va=(0,k.Z)(La,[["render",ya]]);var ka=va;ka.install=function(t){t.component(ka.name,ka)};var xa=ka;const Da={ref:"main_container",class:"sr-list-main-container"},Ea={key:1,style:{"text-align":"center"},class:"sr-list-title"};function Ca(t,e,a,n,o,r){const l=(0,s.up)("sr-scrollbar");return(0,s.wg)(),(0,s.iD)("div",{ref:"list_container",class:"sr-list-container",style:(0,A.j5)(o.styleStr)},[o.showButton?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"sa-list-button",ref:"sr_list_button",onClick:e[0]||(e[0]=(...t)=>r.clickButton&&r.clickButton(...t))},(0,A.zw)(o.buttonName),513)):(0,s.kq)("",!0),(0,s.Wm)(l,{"max-height":"calc((100vh - 80px - 6rem)/2)",width:"100%",ref:"scrollbar"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",Da,null,512),[[i.F8,o.showList]])])),_:1},512),!o.showButton||o.showButton&&o.showList?((0,s.wg)(),(0,s.iD)("div",Ea,(0,A.zw)(a.data.option.name),1)):(0,s.kq)("",!0)],4)}var Ia={name:"sr-list",props:{data:{type:Object,default:null}},data(){return{styleStr:"",listData:[],showList:!1,showName:!1,showButton:!0,buttonName:"展开",listClassDict:{listContainer:{float:{center:"sa-center",left:"sa-float--left",right:"sa-float--right",none:"sa-list--block"},display:{inline_block:"sa-list-container--inline-block",block:"sa-list--block"}}}}},methods:{clickButton(){this.showList=!this.showList,this.buttonName="折叠"===this.buttonName?"展开":"折叠"},render(t,e,a="default"){const i=(t,e,a,s)=>{let n="",o=[],r=document.createElement("li"),l=document.createElement("span"),h=document.createElement("span");if(r.classList.add("sa-list-li"),l.classList.add("sa-list-li-index"),h.classList.add("sa-cata-li-conetnt"),e.forEach(((t,e)=>{o[e]=t,0!==e&&(n+="."),n+=t})),"default"===s&&(n=o[o.length-1]-a,0===n?"default"===this.data.option.unordered_mode?1===o.length?n="●":2===o.length?n="○":3===o.length?n="■":4===o.length&&(n="□"):"solid"===this.data.option.unordered_mode?n="●":"hollow"===this.data.option.unordered_mode?n="○":"square"===this.data.option.unordered_mode?n="■":"template"===this.data.option.unordered_mode?"DEFAULT"===this.data.option.unordered_template?1===o.length?n="●":2===o.length?n="○":3===o.length?n="■":4===o.length&&(n="□"):n=this.data.option.unordered_template:"none"===this.data.option.unordered_mode&&(n=""):"template"===this.data.option.ordered_mode?"DEFAULT"!==this.data.option.ordered_template&&("*"===this.data.option.ordered_template[0]?n+=this.data.option.ordered_template.substring(1):"*"===this.data.option.ordered_template[this.data.option.ordered_template.length-1]?n=this.data.option.ordered_template.substring(0,this.data.option.ordered_template.length-1)+n:2===this.data.option.ordered_template.split("*").length&&(n=this.data.option.ordered_template.split("*")[0]+n+this.data.option.ordered_template.split("*")[1])):"none"===this.data.option.ordered_mode&&(n="")),l.textContent=n,h.innerHTML=t.text,r.appendChild(l),r.appendChild(h),0!==t.children.length){let e=[],a=-1;o.push(0),t.children.forEach(((t,n)=>{if(o[o.length-1]=n+1,t.order_judge)if(-1===a||0===e.length||"ul"===e[e.length-1].type){a=-1===a?0:a;let n=document.createElement("ol");e.push({type:"ol",data:n}),n.appendChild(i(t,o,a,s))}else e[e.length-1].data.appendChild(i(t,o,a,s));else if(a=n+1,-1===a||0===e.length||"ol"===e[e.length-1].type){let n=document.createElement("ul");e.push({type:"ul",data:n}),n.appendChild(i(t,o,a,s))}else e[e.length-1].data.appendChild(i(t,o,a,s))})),e.forEach((t=>{r.appendChild(t.data)}))}return r};let s=[],n=-1;e.forEach(((t,e)=>{if(t.order_judge)if(-1===n||0===s.length||"ul"===s[s.length-1].type){n=-1===n?0:n;let o=document.createElement("ol");s.push({type:"ol",data:o}),o.appendChild(i(t,[e+1],n,a))}else s[s.length-1].data.appendChild(i(t,[e+1],n,a));else if(n=e+1,-1===n||0===s.length||"ol"===s[s.length-1].type){let o=document.createElement("ul");s.push({type:"ul",data:o}),o.appendChild(i(t,[e+1],n,a))}else s[s.length-1].data.appendChild(i(t,[e+1],n,a))})),s.forEach((e=>{t.appendChild(e.data)}))}},mounted(){this.listData=this.data.listData,"number"===this.data.option.ordered_mode?this.render(this.$refs.main_container,this.data.listData,"number"):this.render(this.$refs.main_container,this.data.listData,"default"),this.data.option.fold||(this.showList=!0,this.showButton=!1);const t=this.$refs.list_container;t.style.clear=this.data.option.clear;const e=this.$refs.main_container;"center"===this.data.option.float||"none"===this.data.option.float?(e.classList.add(this.listClassDict.listContainer.float[this.data.option.float]),e.classList.add(this.listClassDict.listContainer.display.block)):(t.classList.add(this.listClassDict.listContainer.display.inline_block),t.classList.add(this.listClassDict.listContainer.float[this.data.option.float])),e.style.width=this.data.option.width,e.style.maxWidth=this.data.option.maxWidth,e.style.minWidth=this.data.option.minWidth,e.style.height=this.data.option.height,e.style.maxHeight=this.data.option.maxHeight,e.style.minHeight=this.data.option.minHeight,this.data.option.classList.forEach((t=>{this.$refs.list_container.classList.add(t)})),this.data.option.styleList.forEach((t=>{this.styleStr+=t+";"}))},created(){}};const Oa=(0,k.Z)(Ia,[["render",Ca]]);var Ta=Oa;Ta.install=function(t){t.component(Ta.name,Ta)};var Sa=Ta;const $a={class:"sr-album--preview--div",ref:"srAlbum_preview"},Ma=["src"],Ra={class:"sr-album--controls"},Wa={class:"sr-album--controls--left"},Aa={class:"sr-album--controls--right"},Ha=(0,s._)("div",{class:"sr-album-decorate"},null,-1);function ja(t,e,a,i,n,o){const r=(0,s.up)("sr-image-shower");return(0,s.wg)(),(0,s.iD)("div",{class:"sr-album-is",ref:"srAlbum",style:(0,A.j5)(n.styleStr)},[(0,s._)("div",$a,[(0,s._)("img",{src:n.loadedPhotos[n.currentIndex].src,onClick:e[0]||(e[0]=(...t)=>o.showModal&&o.showModal(...t)),class:"sr-album--preview--img",ref:"srAlbum_preview_img"},null,8,Ma)],512),(0,s._)("div",Ra,[(0,s._)("span",Wa,(0,A.zw)(a.data.name),1),(0,s._)("span",Aa,"("+(0,A.zw)(n.loadedPhotos.length)+"张)",1)]),Ha,n.modalVisible?((0,s.wg)(),(0,s.j4)(r,{key:0,imgList:n.loadedPhotos,initialIndex:n.currentIndex,onExit:o.hideModal},null,8,["imgList","initialIndex","onExit"])):(0,s.kq)("",!0)],4)}var Pa={name:"sr-album-is",props:{data:{type:Object,default:null}},data(){return{name:"",styleStr:"",loadedPhotos:[],currentIndex:0,modalVisible:!1}},methods:{showModal(){this.modalVisible=!0},hideModal(){this.modalVisible=!1}},mounted(){this.$refs.srAlbum.style.clear=this.data.option.clear,this.$refs.srAlbum.style.color=this.data.option.color,this.$refs.srAlbum.style.maxHeight=this.data.option.maxHeight,this.$refs.srAlbum.style.maxWidth=this.data.option.maxWidth,this.$refs.srAlbum.style.minHeight=this.data.option.minHeight,this.$refs.srAlbum.style.minWidth=this.data.option.minWidth,this.$refs.srAlbum.style.height=this.data.option.height,this.$refs.srAlbum.style.width=this.data.option.width,this.$refs.srAlbum.style.maxWidth="max-content","center"===this.data.option.float?this.$refs.srAlbum.classList.add("sr-album--align--center"):"left"===this.data.option.float?this.$refs.srAlbum.classList.add("sr-album--align--left"):"right"===this.data.option.float?this.$refs.srAlbum.classList.add("sr-album--align--right"):this.$refs.srAlbum.classList.add("sr-album--align--none"),this.$refs.srAlbum_preview_img.style.width=this.data.option.imgWidth,this.$refs.srAlbum_preview_img.style.height=this.data.option.imgHeight,"auto"!==this.data.option.width&&(this.$refs.srAlbum.style.width=this.data.option.width,this.$refs.srAlbum.style.maxWidth="none"),"auto"!==this.data.option.width&&"auto"===this.$refs.srAlbum_preview_img.style.width&&(this.$refs.srAlbum_preview_img.style.width=this.data.option.width),"auto"!==this.data.option.width&&"auto"!==this.data.option.height&&("auto"!==this.data.option.imgWidth?this.$refs.srAlbum_preview_img.style.width=this.data.option.imgWidth:this.$refs.srAlbum_preview_img.style.width=this.data.option.width),this.$refs.srAlbum.style.height=this.data.option.height,this.data.option.classList.forEach((t=>{this.$refs.srAlbum.classList.add(t)})),this.data.option.styleList.forEach((t=>{this.styleStr+=t+";"}))},created(){this.loadedPhotos=this.data.imgList,this.name=this.data.name,this.currentIndex=this.data.option.index}};const Ba=(0,k.Z)(Pa,[["render",ja]]);var qa=Ba;qa.install=function(t){t.component(qa.name,qa)};var Ua=qa;const Za=["src","onClick"];function Fa(t,e,a,i,n,o){const r=(0,s.up)("sr-image-shower");return(0,s.wg)(),(0,s.iD)("div",{ref:"srAllImage",class:"all-image-fit",style:(0,A.j5)(n.fitStyle)},[(0,s._)("div",{class:"all-image-container",style:(0,A.j5)(n.containerStyle)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.data.imgList,((t,e)=>((0,s.wg)(),(0,s.iD)("img",{key:e,src:t.src,onClick:t=>this.showModal(e),class:"slide",style:{"object-fit":"cover",width:"100%",height:"100%"}},null,8,Za)))),128))],4),n.modalVisible?((0,s.wg)(),(0,s.j4)(r,{key:0,imgList:this.data.imgList,initialIndex:n.currentIndex,onExit:o.hideModal},null,8,["imgList","initialIndex","onExit"])):(0,s.kq)("",!0)],4)}var za={name:"sr-all-is",props:{data:{type:Object,default:null}},data(){return{hasLink:!1,styleStr:"",containerStyle:{},fitStyle:{},currentIndex:0,modalVisible:!1}},mounted(){this.setStyles()},methods:{setStyles(){"center"===this.data.option.float?this.$refs.srAllImage.classList.add("sa-all-image--center"):"left"===this.data.option.float?this.$refs.srAllImage.classList.add("sa-all-image--left"):"right"===this.data.option.float&&this.$refs.srAllImage.classList.add("sa-all-image--right"),this.containerStyle={"grid-template-columns":`repeat(${this.data.option.column}, ${this.data.option.imgWidth})`,"grid-gap":this.data.option.space,"grid-template-rows":`repeat(${this.data.option.row}, ${this.data.option.imgHeight})`,"grid-auto-flow":this.data.option.direction},this.fitStyle={height:this.data.option.height,width:this.data.option.width},!1!==this.data.option.cs&&(this.containerStyle["grid-template-columns"]=this.data.option.cs),!1!==this.data.option.rs&&(this.containerStyle["grid-template-rows"]=this.data.option.rs);const t=this.$refs.srAllImage,e=t.querySelectorAll(".slide");e.forEach((e=>{const a=e.getBoundingClientRect();a.bottom>t.clientHeight||a.top<0||a.right>t.clientWidth||a.left<0?e.classList.add("show"):e.classList.remove("show")}))},showModal(t){this.currentIndex=t,this.modalVisible=!0},hideModal(){this.modalVisible=!1}}};const Na=(0,k.Z)(za,[["render",Fa]]);var Ka=Na;Ka.install=function(t){t.component(Ka.name,Ka)};var Ga=Ka;const Va={class:"sa-srCarousell-button-left"},Ya={class:"sa-srCarousell-slides"},Xa=["id"],Ja=["id","src"],Qa={class:"sa-srCarousell-controls"},ti=["onClick"],ei={class:"sa-srCarousell-button-right"};function ai(t,e,a,i,n,o){const r=(0,s.up)("sr-mask"),l=(0,s.up)("sr-icon-arrow-left"),h=(0,s.up)("sr-icon-arrow-right"),d=(0,s.up)("sr-image-shower");return(0,s.wg)(),(0,s.iD)("div",{ref:"srCarousell",style:(0,A.j5)(n.styleStr),class:"sa-carousell",onMouseover:e[5]||(e[5]=t=>(o.showLeftButtons(!0),o.showRightButtons(!0))),onMouseleave:e[6]||(e[6]=t=>(o.showLeftButtons(!1),o.showRightButtons(!1)))},[(0,s._)("span",Va,[(0,s._)("div",{ref:"leftButton",class:"sa-srCarousell-button-ele",onClick:e[0]||(e[0]=t=>o.buttonLeft())},[(0,s.Wm)(r,{color:"#606266",opacity:"0.6"}),(0,s.Wm)(l,{width:"30px",height:"30px"})],512)]),(0,s._)("ul",Ya,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.data.imgList,((t,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"sa-srCarousell-slide",id:"sa-carousel"+this.id,key:a,style:(0,A.j5)({left:100*a+"%",transform:`translateX(-${100*n.activeIndex}%)`})},[(0,s._)("img",{onClick:e[1]||(e[1]=t=>o.showModal()),class:"sa-srCarousell-img",id:"sa-carousel-img"+a,src:t.src,style:(0,A.j5)({"object-fit":this.data.option.fit})},null,12,Ja)],12,Xa)))),128)),(0,s._)("div",Qa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.data.imgList,((t,e)=>((0,s.wg)(),(0,s.iD)("span",{key:e,class:(0,A.C_)(["sa-srCarousell-control",{active:n.activeIndex===e}]),onClick:t=>o.setActiveIndex(e)},null,10,ti)))),128))])]),(0,s._)("span",ei,[(0,s._)("div",{ref:"RightButton",class:"sa-srCarousell-button-ele",onClick:e[2]||(e[2]=t=>o.buttonRight()),onMouseover:e[3]||(e[3]=t=>o.showRightButtons(!0)),onMouseleave:e[4]||(e[4]=t=>o.showRightButtons(!1))},[(0,s.Wm)(r,{color:"#606266",opacity:"0.6"}),(0,s.Wm)(h,{width:"30px",height:"30px"})],544)]),n.modalVisible?((0,s.wg)(),(0,s.j4)(d,{key:0,imgList:this.data.imgList,initialIndex:n.activeIndex,onExit:o.hideModal},null,8,["imgList","initialIndex","onExit"])):(0,s.kq)("",!0)],36)}var ii={name:"sr-carousel-is",props:{data:{type:Object,default:null}},data(){return{hasLink:!1,styleStr:"",setWidth:!1,setHeight:!1,setCenter:!1,activeIndex:0,modalVisible:!1,showButtonsLeft:!1,showButtonsRight:!1,maxfit:0,timer:null,id:Date.now()}},mounted(){"center"===this.data.option.float?(this.setCenter=!0,this.$refs.srCarousell.classList.add("sa-carousell--center")):"left"===this.data.option.float?this.$refs.srCarousell.classList.add("sa-carousell--left"):"right"===this.data.option.float&&this.$refs.srCarousell.classList.add("sa-carousell--right"),this.data.option.interval&&this.play(),this.data.option.classList.forEach((t=>{this.$refs.srCarousell.classList.add(t)})),this.data.option.styleList.forEach((t=>{if(t.includes("width")&&(this.setWidth=!0,this.setCenter))return!0;t.includes("height")&&(this.setHeight=!0),this.styleStr+=t+";"})),this.$nextTick((()=>{setTimeout((()=>{this.setImgSize(),this.changeImgSize()}),500)})),window.addEventListener("resize",this.changeImgSize)},beforeUnmount(){window.removeEventListener("resize",this.changeImgSize)},methods:{showModal(){this.modalVisible=!0},hideModal(){this.modalVisible=!1},setActiveIndex(t){this.activeIndex=t},buttonLeft(){this.activeIndex>0?this.activeIndex=this.activeIndex-1:this.data.option.cycle&&(this.activeIndex=this.data.imgList.length-1)},buttonRight(){this.activeIndex+1<this.data.imgList.length?this.activeIndex=this.activeIndex+1:this.data.option.loop&&(this.activeIndex=0)},showLeftButtons(t){!0===t?(!0===this.data.option.interval&&clearInterval(this.timer),this.$refs.leftButton.classList.remove("sa-srCarousell-pop-out-left"),this.$refs.leftButton.classList.add("sa-srCarousell-pop-up-right")):(!0===this.data.option.interval&&this.play(),this.$refs.leftButton.classList.remove("sa-srCarousell-pop-up-right"),this.$refs.leftButton.classList.add("sa-srCarousell-pop-out-left"))},showRightButtons(t){!0===t?(this.$refs.RightButton.classList.remove("sa-srCarousell-pop-out-right"),this.$refs.RightButton.classList.add("sa-srCarousell-pop-up-left")):(this.$refs.RightButton.classList.remove("sa-srCarousell-pop-up-left"),this.$refs.RightButton.classList.add("sa-srCarousell-pop-out-right"))},play(){this.timer=setInterval((()=>{this.activeIndex+1<this.data.imgList.length?this.activeIndex=this.activeIndex+1:this.activeIndex=0}),this.data.option.intervaltime)},setImgSize(){for(var t=0,e=0,a=this.data.imgList.length,i=0;i<a;i++){var s=document.querySelector("#sa-carousel"+this.id+" #sa-carousel-img"+i);s.naturalWidth>t?t=s.naturalWidth:s.naturalHeight>e&&(e=s.naturalHeight),s.naturalWidth/s.naturalHeight>this.maxfit&&(this.maxfit=s.naturalWidth/s.naturalHeight)}this.setWidth||this.setCenter||(this.$refs.srCarousell.style.width=t+"px"),this.setHeight||(this.$refs.srCarousell.style.height=e+"px")},changeImgSize(){const t=this.$refs.srCarousell,e=t.getBoundingClientRect().width,a=t.getBoundingClientRect().height,i=e/this.maxfit;i<a&&(t.style.height=i+"px")}}};const si=(0,k.Z)(ii,[["render",ai]]);var ni=si;ni.install=function(t){t.component(ni.name,ni)};var oi=ni;const ri={class:"sa-cata-container"},li={class:"sa-cata-body"},hi=(0,s._)("div",{class:"sa-cata-title"},[(0,s._)("h3",null,"目录")],-1),di={class:"sa-cata-data",ref:"saCataView"},ci={ref:"saCataOl"},pi={ref:"saCataWrapper",class:"sa-cata-border-wrapper"},ui={class:"sa-cata-line"},mi={class:"sa-cata-line__select",ref:"saCataLineSelect"},_i={class:"sa-cata-shadow",ref:"saCataShadow"};function fi(t,e,a,i,n,o){const r=(0,s.up)("sr-scrollbar");return(0,s.wg)(),(0,s.iD)("div",ri,[(0,s._)("div",li,[hi,(0,s._)("div",di,[(0,s.Wm)(r,{"max-height":"calc((100vh - 80px - 6rem)/2)",width:"100%",ref:"scrollbar"},{default:(0,s.w5)((()=>[(0,s._)("nav",null,[(0,s._)("div",null,[(0,s._)("div",ci,null,512),(0,s._)("div",pi,[(0,s._)("div",ui,[(0,s._)("div",mi,null,512)]),(0,s._)("div",_i,null,512)],512)])])])),_:1},512)],512)])])}var gi={name:"sr-catalogue",props:{data:{type:Object,default:null}},data(){return{firstCataId:"",nowCataId:""}},mounted(){window.addEventListener("resize",this.windowResize)},beforeUnmount(){window.removeEventListener("resize",this.windowResize)},methods:{render(t){let e=document.createElement("ol");e.classList.add("sa-cata-ol"),e.classList.add("sa-cata-ol-root");const a=(t,e)=>{let i="",s=[],n=document.createElement("li"),o=document.createElement("a"),r=document.createElement("span"),l=document.createElement("span"),h="sa-cata-id-"+t.id;if(this.firstCataId=""===this.firstCataId?h:this.firstCataId,n.classList.add("sa-cata-li"),o.classList.add("sa-cata-li-a"),r.classList.add("sa-cata-li-index"),l.classList.add("sa-cata-li-conetnt"),e.forEach(((t,e)=>{s[e]=t,0!==e&&(i+="."),i+=t})),o.title=t.title,o.href="#"+t.id,o.setAttribute("id",h),o.addEventListener("click",(e=>{this.clickCata(h,t.id)})),r.textContent=i,l.innerHTML=t.title,o.appendChild(r),o.appendChild(l),n.appendChild(o),0!==t.children.length){let e=document.createElement("ol");e.classList.add("sa-cata-ol"),s.push(0),t.children.forEach(((t,i)=>{s[s.length-1]=i+1,e.appendChild(a(t,s))})),n.appendChild(e)}return n};t.forEach(((t,i)=>{e.appendChild(a(t,[i+1]))})),this.$refs.saCataOl.innerHTML="",this.$refs.saCataOl.appendChild(e),this.nowCataId=this.firstCataId,this.windowResize()},windowResize(){if(this.$refs.saCataWrapper.style.height=this.$refs.saCataOl.clientHeight.toString()+"px",""!==this.nowCataId&&null!==this.nowCataId&&void 0!==this.nowCataId)try{this.$refs.saCataShadow.style.height=document.getElementById(this.nowCataId).clientHeight.toString()+"px",this.$refs.saCataLineSelect.style.height=document.getElementById(this.nowCataId).clientHeight.toString()+"px"}catch{console.log("render cata error")}},clickLink(t){let e="sa-cata-id-"+t.id;this.scrollToElementById(e)},clickCata(t,e){let a={id:e};this.$emit("eventsFunction","title","clickLink",a)},scrollToElementById(t){this.nowCataId=t;let e=document.getElementById(t).offsetTop,a=document.getElementById(t).clientHeight,i=this.$refs.saCataView.clientHeight;this.$refs.scrollbar.scrollTo({top:e+a/2-i/2,behavior:"smooth"}),this.$refs.saCataShadow.style.top=e.toString()+"px",this.$refs.saCataShadow.style.height=document.getElementById(this.nowCataId).clientHeight.toString()+"px",this.$refs.saCataLineSelect.style.top=e.toString()+"px",this.$refs.saCataLineSelect.style.height=document.getElementById(this.nowCataId).clientHeight.toString()+"px"}}};const bi=(0,k.Z)(gi,[["render",fi]]);var wi=bi;wi.install=function(t){t.component(wi.name,wi)};var yi=wi;const Li={ref:"sr_scrollbar",class:"sa-scrollbar",style:{"{height":"height"}},vi={class:"sa-scrollbar__view",ref:"scrollbar_view"};function ki(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",Li,[(0,s._)("div",vi,[(0,s.WI)(t.$slots,"default")],512)],512)}var xi={name:"sr-scrollbar",props:{height:{type:String,default:"100%"},width:{type:String,default:"100%"},"max-height":{type:String,default:"none"},"max-width":{type:String,default:"none"}},data(){return{}},mounted(){this.$refs.sr_scrollbar.style.height=this.height,this.$refs.sr_scrollbar.style.width=this.width,this.$refs.sr_scrollbar.style.maxHeight=this.maxHeight,this.$refs.sr_scrollbar.style.maxWidth=this.maxWidth;let t=this.$refs.scrollbar_view.querySelectorAll("*"),e=0,a=0;t.forEach((t=>{e=t.clientWidth>e?t.clientWidth:e,a+=t.clientHeight}))},methods:{render(){},scrollTo(t,e){e?this.$refs.sr_scrollbar.scrollTo(t,e):this.$refs.sr_scrollbar.scrollTo(t)}}};const Di=(0,k.Z)(xi,[["render",ki]]);var Ei=Di;Ei.install=function(t){t.component(Ei.name,Ei)};var Ci=Ei;const Ii={class:"sa-image-shower"},Oi={class:"sa-image-shower__exit__icon sa-icon"},Ti={class:"sa-image-shower__last__icon"},Si={class:"sa-image-shower__next__icon sa-icon"},$i={class:"sa-image-shower-view"},Mi=["src"],Ri={key:0,class:"sa-image-shower__img-name"};function Wi(t,e,a,i,n,o){const r=(0,s.up)("sr-mask"),l=(0,s.up)("sr-icon-exit"),h=(0,s.up)("sr-icon-arrow-left"),d=(0,s.up)("sr-icon-arrow-right");return(0,s.wg)(),(0,s.iD)("div",Ii,[(0,s.Wm)(r),(0,s._)("div",{class:"sa-image-shower__exit sa-image-shower-icon-button",onClick:e[0]||(e[0]=(...t)=>o.exit&&o.exit(...t))},[(0,s.Wm)(r,{color:"#606266",opacity:"0.6"}),(0,s._)("div",Oi,[(0,s.Wm)(l,{width:"30px",height:"30px"})])]),n.showNextLast?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"sa-image-shower__last sa-image-shower-icon-button",onClick:e[1]||(e[1]=t=>o.changeIndex(!1))},[(0,s.Wm)(r,{color:"#606266",opacity:"0.6"}),(0,s._)("div",Ti,[(0,s.Wm)(h,{width:"30px",height:"30px"})])])):(0,s.kq)("",!0),n.showNextLast?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"sa-image-shower__next sa-image-shower-icon-button",onClick:e[2]||(e[2]=t=>o.changeIndex(!0))},[(0,s.Wm)(r,{color:"#606266",opacity:"0.6"}),(0,s._)("div",Si,[(0,s.Wm)(d,{width:"30px",height:"30px"})])])):(0,s.kq)("",!0),(0,s._)("div",$i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.imgListData,((t,e)=>((0,s.wg)(),(0,s.iD)("img",{key:e,src:t.src,style:(0,A.j5)({display:t.show?"block":"none"}),draggable:"false",display:"none",class:"sa-image-shower__img"},null,12,Mi)))),128)),0!==(n.imgListData.length>0?n.imgListData[n.showIndex].name:"").length?((0,s.wg)(),(0,s.iD)("div",Ri,[(0,s.Wm)(r,{color:"#606266",opacity:"0.7"}),(0,s.Uk)(" "+(0,A.zw)(n.imgListData.length>0?n.imgListData[n.showIndex].name:""),1)])):(0,s.kq)("",!0)])])}var Ai={name:"sr-image-shower",props:{imgList:{type:Object,default:null},initialIndex:{type:Number,default:0}},data(){return{showIndex:0,showNextLast:!0,imgListData:[]}},mounted(){document.body.style.overflow="hidden";try{this.imgList.forEach(((t,e)=>{this.imgListData.push({src:t.src,name:t.name,show:this.initialIndex===e})})),this.showIndex=this.initialIndex}catch{console.log("图片列表格式有误")}this.imgListData.length<=1&&(this.showNextLast=!1)},beforeUnmount(){document.body.style.overflow=""},methods:{changeIndex(t){this.showIndex=t?this.showIndex+1>=this.imgListData.length?0:this.showIndex+1:this.showIndex-1<0?this.imgListData.length-1:this.showIndex-1,this.render()},render(){let t=this.imgListData.length;for(let e=0;e<t;e++)this.imgListData[e].show=!1;for(let e=0;e<t;e++)if(e===this.showIndex){this.imgListData[e].show=!0;break}},exit(){this.$emit("exit")}}};const Hi=(0,k.Z)(Ai,[["render",Wi]]);var ji=Hi;ji.install=function(t){t.component(ji.name,ji)};var Pi=ji;const Bi={ref:"srMask",class:"sa-mask"};function qi(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",Bi,null,512)}var Ui={name:"sr-mask",props:{color:{type:String,default:""},opacity:{type:String,default:""}},mounted(){""!==this.color&&(this.$refs.srMask.style.backgroundColor=this.color),""!==this.opacity&&(this.$refs.srMask.style.opacity=this.opacity)}};const Zi=(0,k.Z)(Ui,[["render",qi]]);var Fi=Zi;Fi.install=function(t){t.component(Fi.name,Fi)};var zi=Fi;const Ni={ref:"srClearSpan"};function Ki(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",Ni,"clear",512)}var Gi={name:"sr-clear",props:{data:{type:Object,default:null}},data(){return{showIndex:0,showNextLast:!0,imgListData:[]}},mounted(){this.$refs.srClearSpan.style.clear=this.data.clear}};const Vi=(0,k.Z)(Gi,[["render",Ki]]);var Yi=Vi;Yi.install=function(t){t.component(Yi.name,Yi)};var Xi=Yi;const Ji={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Qi=["fill","d"];function ts(t,e,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",{class:"sa-icon",style:(0,A.j5)({width:a.width,height:a.height})},[((0,s.wg)(),(0,s.iD)("svg",Ji,[(0,s._)("path",{fill:a.color,d:a.path},null,8,Qi)]))],4)}var es={props:{width:{type:String,default:"40px"},height:{type:String,default:"40px"},color:{type:String,default:"currentColor"},path:{type:String,default:""}},name:"sr-icon"};const as=(0,k.Z)(es,[["render",ts]]);var is=as;function ss(t,e,a,i,n,o){const r=(0,s.up)("sr-icon");return(0,s.wg)(),(0,s.j4)(r,{width:a.width,height:a.height,color:a.color,path:n.path},null,8,["width","height","color","path"])}var ns={props:{width:{type:String,default:"40px"},height:{type:String,default:"40px"},color:{type:String,default:"currentColor"}},name:"sr-icon-arrow-left",data(){return{path:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"}}};const os=(0,k.Z)(ns,[["render",ss]]);var rs=os;function ls(t,e,a,i,n,o){const r=(0,s.up)("sr-icon");return(0,s.wg)(),(0,s.j4)(r,{width:a.width,height:a.height,color:a.color,path:n.path},null,8,["width","height","color","path"])}var hs={props:{width:{type:String,default:"40px"},height:{type:String,default:"40px"},color:{type:String,default:"currentColor"}},name:"sr-icon-arrow-right",data(){return{path:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"}}};const ds=(0,k.Z)(hs,[["render",ls]]);var cs=ds;function ps(t,e,a,i,n,o){const r=(0,s.up)("sr-icon");return(0,s.wg)(),(0,s.j4)(r,{width:a.width,height:a.height,color:a.color,path:n.path},null,8,["width","height","color","path"])}var us={props:{width:{type:String,default:"40px"},height:{type:String,default:"40px"},color:{type:String,default:"currentColor"}},name:"sr-icon-exit",data(){return{path:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"}}};const ms=(0,k.Z)(us,[["render",ps]]);var _s=ms;function fs(t,e,a,i,n,o){const r=(0,s.up)("sr-icon");return(0,s.wg)(),(0,s.j4)(r,{width:a.width,height:a.height,color:a.color,path:n.path},null,8,["width","height","color","path"])}var gs={props:{width:{type:String,default:"40px"},height:{type:String,default:"40px"},color:{type:String,default:"currentColor"}},name:"sr-icon-full-screen",data(){return{path:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"}}};const bs=(0,k.Z)(gs,[["render",fs]]);var ws=bs;is.install=function(t){t.component(is.name,is)},rs.install=function(t){t.component(rs.name,rs)},cs.install=function(t){t.component(cs.name,cs)},_s.install=function(t){t.component(_s.name,_s)},ws.install=function(t){t.component(ws.name,ws)};var ys={Icon:is,ArrowLeft:rs,ArrowRight:cs,Exit:_s,FullScreen:ws};const Ls=[Qe,ha,fa,xa,Sa,Ua,Ga,oi,yi,Ci,Pi,zi,Xi,ys.Icon,ys.ArrowLeft,ys.ArrowRight,ys.Exit,ys.FullScreen],vs=function(t,e={}){Ls.forEach((e=>{t.component(e.name,e)}))};"undefined"!==typeof window&&window.Vue&&vs(window.Vue);var ks={install:vs,ArticleContainer:Qe,Paragraph:ha,Title:fa,Table:xa,List:Sa,AlbumIS:Ua,AllIS:Ga,CarouselIS:oi,Catalogue:yi,Scrollbar:Ci};(0,i.ri)(yt).use(ks).use(vt).use(lt).mount("#app")},126:function(t,e){class a{constructor(t,e,a={}){this.component=t.trim(),this.option=e,this.param=a,this.TDecode=a.TDecode,this.MDecode=a.MDecode,this.GDecode=a.GDecode,this.ignoreReplaceList=void 0===a.ignoreReplaceList?[]:a.ignoreReplaceList,this.codeReplaceList=void 0===a.codeReplaceList?[]:a.codeReplaceList,this.poemReplaceList=void 0===a.poemReplaceList?[]:a.poemReplaceList,this.replaceIgnore=this.replace(this.ignoreReplaceList),this.replaceCode=this.replace(this.codeReplaceList),this.replacePoem=this.replace(this.poemReplaceList),this.type="",this.dataList=[],this.componentBaseOption={},this.baseOption={key:parseInt(1e6*Math.random()),float:"none",clear:"none",maxWidth:"100%",maxHeight:"none",minWidth:"none",minHeight:"none",width:"auto",height:"auto",color:"DEFAULT",fontSize:"DEFAULT",fontFamily:"DEFAULT",classList:[],styleList:[],id:""},this.template={},this.name=[],this.init()}judge(){return!1}analyse(){return{}}analyseBaseOption(){this.changeBaseOption(),this.analyseImageShowerOption();let t=this.dataList.indexOf("-");for(let e=1;e<t;e++){let t=this.dataList[e],a=t.split("=")[0],i=t.split("=")[t.split("=").length-1];switch(a){case"left":case"right":case"both":case"none":case"center":a===i&&(this.baseOption.float=a);break;case"float":case"f":-1!==["none","center","left","right"].indexOf(i)&&(this.baseOption.float=["center","left","right","none"].find((t=>t===i)));break;case"clear":-1!==["none","both","left","right"].indexOf(i)&&(this.baseOption.clear=["left","both","right","none"].find((t=>t===i)));break;case"c":-1!==["none","both","left","right"].indexOf(i)?this.baseOption.clear=["center","both","right","none"].find((t=>t===i)):this.baseOption.color=i;break;case"width":case"w":this.baseOption.width=i;break;case"height":case"h":this.baseOption.height=i;break;case"maxWidth":case"maxW":this.baseOption.maxWidth=i;break;case"maxHeight":case"maxH":this.baseOption.maxHeight=i;break;case"minWidth":case"minW":this.baseOption.minWidth=i;break;case"minHeight":case"minH":this.baseOption.minHeight=i;break;case"fontSize":case"FS":this.baseOption.fontSize=i;break;case"fontFamily":case"FF":this.baseOption.fontFamily=i;break;case"class":i&&(this.baseOption.classList=this.baseOption.classList.concat(i.split(";")));break;case"style":i&&(this.baseOption.styleList=this.baseOption.styleList.concat(i.split(";")));break;case"id":this.baseOption.id=i;break}}}init(){let t=this.component;t=t.slice(2,-2),t=this.replacePoem(t),this.TDecode&&(t=this.TDecode(t)),this.MDecode&&(t=this.MDecode(t)),t=t.replace(/\n/g,"");let e=t.split("|");for(let a=0;a<e.length;a++)e[a]=e[a].trim();this.dataList=e}replace(t){return function(e){return t.forEach((t=>{e=e.replace(t.key,t.value)})),e}}analyseImageShowerOption(){}changeBaseOption(){for(let t in this.baseOption)this.baseOption[t]=void 0===this.componentBaseOption[t]?this.baseOption[t]:this.componentBaseOption[t]}}e.Z=a},1399:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(560),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_componentParser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(126);class ImageShowerParser extends _componentParser__WEBPACK_IMPORTED_MODULE_1__.Z{constructor(t,e){super(t,e),this.imageShowerOption={baseUrl:"",imgWidth:"",imgHeight:"",imgMaxWidth:"",imgMaxHeight:"",imgPosition:"",fit:"cover",nameTitle:!0,name:""},this.imageListData=[]}analyseImageShowerOption(){const divideIndex=this.dataList.indexOf("-");for(let i=1;i<divideIndex;i++){const data=this.dataList[i],key=data.split("=")[0],value=data.split("=")[data.split("=").length-1];switch(key){case"fill":case"contain":case"cover":key===value&&(this.imageShowerOption.fit=key);break;case"baseUrl":case"BU":this.imageShowerOption.baseUrl=value;break;case"imgWidth":case"IW":this.imageShowerOption.imgWidth=value;break;case"imgHeight":case"IH":this.imageShowerOption.imgHeight=value;break;case"imgMaxWidth":case"IMW":this.imageShowerOption.imgMaxWidth=value;break;case"imgMaxHeight":case"IMH":this.imageShowerOption.imgMaxHeight=value;break;case"imgPosition":case"IP":this.imageShowerOption.imgPosition=value;break;case"fit":this.imageShowerOption.fit=value;break;case"nameTitle":case"NT":-1!==["true","false"].indexOf(value)&&(this.imageShowerOption.nameTitle=eval(["true","false"].find((t=>t===value))));break;case"name":case"n":this.imageShowerOption.name=value;break;default:this.extractWidthAndHeight(value)}}this.baseOption=Object.assign(this.baseOption,this.imageShowerOption)}extractWidthAndHeight(t){const e=/^(\d+)x(\d+)px$/,a=/^x(\d+)px$/,i=/^(\d+)px$/,s=t.match(e),n=t.match(a),o=t.match(i);s&&3===s.length&&(this.imageShowerOption.imgWidth=parseFloat(s[1]).toString()+"px",this.imageShowerOption.imgHeight=parseFloat(s[2]).toString()+"px"),n&&2===n.length&&(this.imageShowerOption.imgHeight=parseFloat(n[1]).toString()+"px"),o&&2===o.length&&(this.imageShowerOption.imgWidth=parseFloat(o[1]).toString()+"px")}imgDataAnalyse(t){const e=[];return t.forEach(((t,a)=>{""!==t&&(-1===t.indexOf(":")?e.push({from:-1,to:-1,option:t}):-1===t.indexOf("-")?e.push({from:parseInt(t.split(":")[0])-1,to:parseInt(t.split(":")[0])-1,option:t.split(":")[t.split(":").length-1]}):e.push({from:parseInt(t.split(":")[0].split("-")[0])-1,to:parseInt(t.split(":")[0].split(":")[t.split("-")[0].split("-").length-1])-1,option:t.split(":")[t.split(":").length-1]}))})),e}getImgListData(){let t=this.dataList.indexOf("-");for(let e=t+1;e<this.dataList.length;e++){let t=this.dataList[e].trim();t=t.split(" ");const a=t[0];let i="",s="";t.length>1&&(i=-1===t[1].indexOf("=")?t[1]:0,s=i),t.forEach(((t,e)=>{if(e>0){let e=t.split(";");e.forEach(((t,e)=>{const a=t.trim().split("=")[0],n=t.trim().split("=")[t.trim().split("=").length-1];switch(a){case"name":i=n;break;case"title":s=n;break;default:switch(e){case 0:i=n;break;case 1:s=n;break}}}))}})),this.imageListData.push({src:a,name:i,title:s})}}}__webpack_exports__.Z=ImageShowerParser},7941:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(560),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_componentParser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(126);class ListParser extends _componentParser__WEBPACK_IMPORTED_MODULE_1__.Z{constructor(t,e,a){super(t,e,a),this.default=!1,this.name=["list","列表"],this.template={type:"sr-list",data:{listData:[],content:[],option:{name:"",fold:!1,mode:"default",mode_both:!0,ordered_mode:"default",unordered_mode:"default",ordered_template:"DEFAULT",unordered_template:"DEFAULT"}}}}getLevelAndType(t){const e=t.match(/^(\*+|\++|-+)/)?.[0].length;return 0!==e?t.match(/^(\*+|\++|-+)/)?.[0].endsWith("+")?[e,!0]:t.match(/^(\*+|\++|-+)/)?.[0].endsWith("*")?[e,!1]:[0,!0]:[0,!0]}createMenu(t){let e=[],a=[];for(let i=0,s=t.length;i<s;i++){let s=t[i],n=this.getLevelAndType(s)[0];if(0===n)continue;let o=s.replace(/^(\*+|\++|-+)\s*/,""),r={text:o,order_judge:this.getLevelAndType(s)[1],level:n,children:[]};while(a.length>=n)a.pop();0===a.length?e.push(r):a[a.length-1].children.push(r),a.push(r)}return e}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyse(ignoreReplaceList=[],codeReplaceList=[],poemReplaceList=[]){this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let optionList=[],divideIndex=this.dataList.indexOf("-");if(-1===divideIndex)return{type:"error",msg:"list格式错误",content:this.content};for(let t=1;t<divideIndex;t++)optionList.push(this.dataList[t]);for(let t=divideIndex+1;t<this.dataList.length;t++)this.template.data.content.push(this.dataList[t]);return this.template.data.listData=this.createMenu(this.template.data.content),this.template.data.listData.forEach((t=>{t.text=this.GDecode(t.text),t.text=this.replaceCode(t.text),t.text=this.replaceIgnore(t.text)})),0!==optionList.length&&optionList.forEach((optionELe=>{let key=optionELe.split("=")[0],value=optionELe.split("=")[optionELe.split("=").length-1];switch(key){case"name":this.template.data.option.name=value;break;case"fold":-1!==["true","false"].indexOf(value)?this.template.data.option.fold=eval(value):key===value&&(this.template.data.option.fold=!0);break;case"mode":-1!==["default","number","solid","hollow","square","template","none"].indexOf(value)&&(this.template.data.option.mode=value,"default"===value?(this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="default"):"number"===value?(this.template.data.option.ordered_mode="number",this.template.data.option.unordered_mode="default"):"solid"===value?(this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="solid"):"hollow"===value?(this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="hollow"):"square"===value&&(this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="template"));break;case"default":key===value&&(this.template.data.option.mode=key,this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="default");break;case"number":key===value&&(this.template.data.option.mode=key,this.template.data.option.ordered_mode="number",this.template.data.option.unordered_mode="default");break;case"solid":key===value&&(this.template.data.option.mode=key,this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="solid");break;case"hollow":key===value&&(this.template.data.option.mode=key,this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="hollow");break;case"square":key===value&&(this.template.data.option.mode=key,this.template.data.option.ordered_mode="default",this.template.data.option.unordered_mode="square");break;case"template":case"t":if(key===value)this.template.data.option.mode="template",this.template.data.option.ordered_mode="template",this.template.data.option.unordered_mode="template";else if(value.includes(";")&&2===value.trim().split(";").length){let t=value.trim().split(";")[0],e=value.trim().split(";")[1];(t.length>=2&&("*"===t[0]||"*"===t[t.length-1])||t.length>=3&&t.includes("*")&&"*"!==t[0]&&"*"!==t[t.length-1])&&(this.template.data.option.ordered_template=t),this.template.data.option.unordered_template=e}else"*"!==value.trim()[0]&&"*"!==value.trim()[value.trim().length-1]||(this.template.data.option.ordered_template=value.trim());break;case"none":key===value&&(this.template.data.option.mode=key,this.template.data.option.ordered_mode="none",this.template.data.option.unordered_mode="none");break;default:if(key.includes(";")&&2===key.trim().split(";").length){let t=key.trim().split(";")[0],e=key.trim().split(";")[1];-1!==["default","number","template","none"].indexOf(t)&&(this.template.data.option.ordered_mode=t,this.template.data.option.mode_both=!1),-1!==["default","solid","hollow","square","template","none"].indexOf(e)&&(this.template.data.option.unordered_mode=e,this.template.data.option.mode_both=!1)}break}})),{type:"success",msg:"",content:this.template}}analysePro(t=[],e={}){this.template.data.option=Object.assign(this.template.data.option,this.baseOption),this.template.data.listData=t;for(let a in this.template.data.option)this.template.data.option[a]=void 0===e[a]?this.template.data.option[a]:e[a];return{type:"success",msg:"",content:this.template}}}__webpack_exports__.Z=ListParser},2971:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(560),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_componentParser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(126),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4093);class TableParser extends _componentParser__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(t,e,a){super(t,e,a),this.contentNone=["sr-none"],this.name=["table","表格"],this.template={type:"sr-table",data:{tableData:[],option:{name:"",fold:!1,hover:"row",border:"border",node:{width:"auto",height:"auto"}}}}}judge(){return-1!==this.name.indexOf(this.dataList[0])}analyse(){this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let divideIndexList=[],optionList=[],tableList=[],tempTableList=[],hasCR=!1;return this.dataList.forEach(((t,e)=>{0===divideIndexList.length&&"-"!==t&&e>0?optionList.push(t):0!==divideIndexList.length&&"-"!==t&&tempTableList.push(t),"-"===t&&(divideIndexList.push(e),divideIndexList.length>1&&(tableList.push(_utils__WEBPACK_IMPORTED_MODULE_1__.Z.deepClone(tempTableList)),tempTableList=[]))})),tableList.push(_utils__WEBPACK_IMPORTED_MODULE_1__.Z.deepClone(tempTableList)),optionList.forEach((option=>{let key=option.split("=")[0],value=option.split("=")[option.split("=").length-1];switch(key){case"fold":-1!==["true","false"].indexOf(value)?this.template.data.option.fold=eval(value):key===value&&(this.template.data.option.fold=!0);break;case"border":-1!==["border","bottom","none"].indexOf(value)&&(this.template.data.option.border=["border","bottom","none"].find((t=>t===value)));break;case"hover":-1!==["row","node","none"].indexOf(value)&&(this.template.data.option.hover=["row","node","none"].find((t=>t===value)));break;case"tdWidth":case"TW":this.template.data.option.node.width=value;break;case"tdHeight":case"TH":this.template.data.option.node.height=value;break;case"name":this.template.data.option.name=value;break}})),tableList.forEach(((t,e)=>{let a={rowData:[],thead:!1};t.forEach((t=>{let i={content:"",c:1,r:1,hasCR:!1,t:!1,display:!0},s=t.trim(),n=s.split(" "),o=!1;"+"===n[0]&&0===e&&(a.thead=!0),n.length-1!==0&&n[n.length-1].split("/").forEach((t=>{let e=t.split("=")[0],a=t.split("=")[t.split("=").length-1];switch(e){case"c":a&&a!==e&&/^[\d]+$/.test(a)&&(i.c=parseInt(a),o=!0,i.hasCR=!0);break;case"r":a&&a!==e&&/^[\d]+$/.test(a)&&(i.r=parseInt(a),o=!0,i.hasCR=!0);break;case"t":i.t=!0,o=!0;break;case"d":i.display=!1,o=!0;break}})),n.forEach(((t,e)=>{a.thead&&0===e&&"+"===t||e===n.length-1&&o||(1!==e||a.thead?e>1&&(i.content+=" "):i.content+=" ",i.content+=t)})),i.content=-1!==this.contentNone.indexOf(i.content)?"":i.content,i.content=this.GDecode(i.content),i.content=this.replaceCode(i.content),i.content=this.replaceIgnore(i.content),a.rowData.push(i)})),this.template.data.tableData.push(a)})),{type:"success",msg:"",content:this.template}}}__webpack_exports__.Z=TableParser},3669:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(560),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_componentParser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(126);class TitleParser extends _componentParser__WEBPACK_IMPORTED_MODULE_1__.Z{constructor(t,e,a){super(t,e,a),this.default=!1,this.name=["title","标题"],this.template={type:"sr-title",data:{type:"h1",content:"",option:{textAlign:"left",borderPosition:"left",hoverAnimation:!1,hasLink:!0}}}}judge(){return"="===this.component[0]||-1!==this.name.indexOf(this.dataList[0])&&(this.default=!0,!0)}analyse(){this.template.data.option=Object.assign(this.template.data.option,this.baseOption);let component=this.component,titleType=0,title="",style=null,styleList=[];if(this.default){let t=this.dataList.indexOf("-");if(-1===t)return{type:"error",msg:"title格式错误",content:this.content};for(let e=0;e<t;e++)styleList.push(this.dataList[e]);for(let e=t+1;e<this.dataList.length;e++)this.template.data.content+=this.dataList[e]}else{let t=component.split("?style");title=t[0],style=1===t.length?null:t[t.length-1];let e=title.split(" "),a=e[0];if(e.length<2)return{type:"error",msg:"title格式错误",content:this.content};title=e[1];for(let i=2;i<e.length;i++)title+=" "+e[i];titleType=a.length>6?6:a.length,this.template.data.type="h"+titleType.toString(),this.template.data.content=title,style&&(style=style.trim(),styleList=style.split("|"))}0!==styleList.length&&styleList.forEach((styleELe=>{let key=styleELe.split("=")[0],value=styleELe.split("=")[styleELe.split("=").length-1];switch(key){case"textAlign":case"TA":-1!==["left","center","l","c"].indexOf(value)&&(this.template.data.option.textAlign=value);break;case"borderPosition":case"BP":-1!==["left","l","bottom","b","n","none"].indexOf(value)&&(this.template.data.option.borderPosition=value);break;case"hoverAnimation":case"HA":-1!==["true","false"].indexOf(value)?this.template.data.option.hoverAnimation=eval(value):key===value&&(this.template.data.option.hoverAnimation=!0);break;case"hasLink":case"HL":-1!==["true","false"].indexOf(value)?this.template.data.option.hasLink=eval(value):key===value&&(this.template.data.option.hasLink=!0);break;case"type":this.template.data.type=value;break;default:this.default&&2===key.length&&"h"===key[0]&&Number(key[1])&&parseInt(key[1])<=6&&(this.template.data.type=value);break}})),this.template.data.content=this.template.data.content.trim(),this.template.data.content=this.replaceCode(this.template.data.content),this.template.data.content=this.replaceIgnore(this.template.data.content);let tid=""===this.template.data.option.id?this.template.data.content:this.template.data.option.id,sid=tid,t=1,h=0;while(void 0!==this.param.rendererData.title.idMap.get(sid)&&h<10)h++,sid=tid+"_"+t.toString(),t++;return tid=tid===sid?tid:sid,this.param.rendererData.title.idMap.set(tid,!0),this.template.data.option.id=tid,{type:"success",msg:"",content:this.template}}analysePro(t,e,a){this.template.data.option=Object.assign(this.template.data.option,this.baseOption),this.template.data.content=t;let i=""===this.template.data.option.id?this.template.data.content:this.template.data.option.id,s=i,n=1,o=0;while(void 0!==this.param.rendererData.title.idMap.get(s)&&o<10)o++,s=i+"_"+n.toString(),n++;i=i===s?i:s,this.param.rendererData.title.idMap.set(i,!0),this.template.data.option.id=i,this.template.data.type=e;for(let r in this.template.data.option)this.template.data.option[r]=void 0===a[r]?this.template.data.option[r]:a[r];return{type:"success",msg:"",content:this.template}}}__webpack_exports__.Z=TitleParser},4093:function(t,e,a){a(560);function i(t,e,a,i,s=!1){let n={replace:!1,content:a},o=0,r=0,l=[],h=[],d=0;while(-1!==a.indexOf(t,o)){if(++d>1e4)break;o=a.indexOf(t,o),l.push(o),o+=t.length}d=0;while(-1!==a.indexOf(e,r)){if(++d>1e4)break;r=a.indexOf(e,r),h.push(r),r+=e.length}if(0===l.length||0===h.length)return n;d=0;let c=[],p=0,u=0;while(d<1e5){if(d++,p>=l.length&&u>=h.length)break;p>=l.length&&u<h.length?(c.push({type:"right",index:h[u]}),u++):p<l.length&&u>=h.length||l[p]<h[u]?(c.push({type:"left",index:l[p]}),p++):(c.push({type:"right",index:h[u]}),u++)}let m=0,_=[];p=l[0],u=-1;for(let g=0;g<c.length;g++)if("left"===c[g].type?m++:(u=c[g].index,m--),0===m){_.push([p,u]),p=-1;for(let t=g+1;t<c.length;t++)if("left"===c[t].type){p=c[t].index;break}if(-1===p)break}let f=0;for(let g=0;g<_.length;g++){if(!s&&g>0)break;if(_[g][0]>=_[g][1])continue;let o=a.slice(_[g][0]+f,_[g][1]+e.length+f),r=a.length;a=a.replace(o,i({stringBegin:t,stringEnd:e,content:a,replace:o}));let l=a.length;f=f+l-r,n.replace=!0}return n.content=a,n}function s(t,e,a,i){let s={replace:!1,content:a},n=0,o=0,r=[],l=[],h=0;while(-1!==a.indexOf(t,n)){if(++h>1e4)break;n=a.indexOf(t,n),r.push(n),n+=t.length}h=0;while(-1!==a.indexOf(e,o)){if(++h>1e4)break;o=a.indexOf(e,o),l.push(o),o+=e.length}if(0===r.length||0===l.length)return s;n=-1,o=-1;for(let c=0;c<l.length;c++){for(let t=0;t<r.length;t++)l[c]>r[t]&&(n=t);if(-1!==n){o=c;break}}if(-1===n)return s;n=r[n],o=l[o];let d=a.slice(n,o+e.length);return a=a.replace(d,i({stringBegin:t,stringEnd:e,content:a,replace:d})),s.replace=!0,s.content=a,s}const n=(t,e=[])=>{if(null===t||"object"!==typeof t)return t;const a=find(e,(e=>e.original===t));if(a)return a.copy;const i=Array.isArray(t)?[]:{};return e.push[{original:t,copy:i}],Object.keys(t).forEach((a=>{i[a]=n(t[a],e)})),i};e.Z={replaceNonGreed:i,replaceGreed:s,deepClone:n}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var a=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.m=__webpack_modules__,function(){var t=[];__webpack_require__.O=function(e,a,i,s){if(!a){var n=1/0;for(h=0;h<t.length;h++){a=t[h][0],i=t[h][1],s=t[h][2];for(var o=!0,r=0;r<a.length;r++)(!1&s||n>=s)&&Object.keys(__webpack_require__.O).every((function(t){return __webpack_require__.O[t](a[r])}))?a.splice(r--,1):(o=!1,s<n&&(n=s));if(o){t.splice(h--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var h=t.length;h>0&&t[h-1][2]>s;h--)t[h]=t[h-1];t[h]=[a,i,s]}}(),function(){__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,{a:e}),e}}(),function(){__webpack_require__.d=function(t,e){for(var a in e)__webpack_require__.o(e,a)&&!__webpack_require__.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};__webpack_require__.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,s,n=a[0],o=a[1],r=a[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(i in o)__webpack_require__.o(o,i)&&(__webpack_require__.m[i]=o[i]);if(r)var h=r(__webpack_require__)}for(e&&e(a);l<n.length;l++)s=n[l],__webpack_require__.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return __webpack_require__.O(h)},a=self["webpackChunksakurarendererweb"]=self["webpackChunksakurarendererweb"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(3119)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.8a769fc3.js.map